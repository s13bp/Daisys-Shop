{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { either, isLeft, left, right } from 'fp-ts/lib/Either';\nvar map = either.map;\nvar chain = either.chain;\n/**\n * @since 1.0.0\n */\n\nvar Type =\n/** @class */\nfunction () {\n  function Type(\n  /** a unique name for this codec */\n  name,\n  /** a custom type guard */\n  is,\n  /** succeeds if a value of type I can be decoded to a value of type A */\n  validate,\n  /** converts a value of type A to a value of type O */\n  encode) {\n    this.name = name;\n    this.is = is;\n    this.validate = validate;\n    this.encode = encode;\n    this.decode = this.decode.bind(this);\n  }\n  /**\n   * @since 1.0.0\n   */\n\n\n  Type.prototype.pipe = function (ab, name) {\n    var _this = this;\n\n    if (name === void 0) {\n      name = \"pipe(\" + this.name + \", \" + ab.name + \")\";\n    }\n\n    return new Type(name, ab.is, function (i, c) {\n      return chain(_this.validate(i, c), function (a) {\n        return ab.validate(a, c);\n      });\n    }, this.encode === identity && ab.encode === identity ? identity : function (b) {\n      return _this.encode(ab.encode(b));\n    });\n  };\n  /**\n   * @since 1.0.0\n   */\n\n\n  Type.prototype.asDecoder = function () {\n    return this;\n  };\n  /**\n   * @since 1.0.0\n   */\n\n\n  Type.prototype.asEncoder = function () {\n    return this;\n  };\n  /**\n   * a version of `validate` with a default context\n   * @since 1.0.0\n   */\n\n\n  Type.prototype.decode = function (i) {\n    return this.validate(i, [{\n      key: '',\n      type: this,\n      actual: i\n    }]);\n  };\n\n  return Type;\n}();\n\nexport { Type };\n/**\n * @since 1.0.0\n */\n\nexport var identity = function identity(a) {\n  return a;\n};\n/**\n * @since 1.0.0\n */\n\nexport var getFunctionName = function getFunctionName(f) {\n  return f.displayName || f.name || \"<function\" + f.length + \">\";\n};\n/**\n * @since 1.0.0\n */\n\nexport var getContextEntry = function getContextEntry(key, decoder) {\n  return {\n    key: key,\n    type: decoder\n  };\n};\n/**\n * @since 1.0.0\n */\n\nexport var appendContext = function appendContext(c, key, decoder, actual) {\n  var len = c.length;\n  var r = Array(len + 1);\n\n  for (var i = 0; i < len; i++) {\n    r[i] = c[i];\n  }\n\n  r[len] = {\n    key: key,\n    type: decoder,\n    actual: actual\n  };\n  return r;\n};\n/**\n * @since 1.0.0\n */\n\nexport var failures = left;\n/**\n * @since 1.0.0\n */\n\nexport var failure = function failure(value, context, message) {\n  return failures([{\n    value: value,\n    context: context,\n    message: message\n  }]);\n};\n/**\n * @since 1.0.0\n */\n\nexport var success = right;\n\nvar pushAll = function pushAll(xs, ys) {\n  var l = ys.length;\n\n  for (var i = 0; i < l; i++) {\n    xs.push(ys[i]);\n  }\n};\n\nvar getIsCodec = function getIsCodec(tag) {\n  return function (codec) {\n    return codec._tag === tag;\n  };\n};\n\nvar isUnknownCodec = getIsCodec('UnknownType'); // tslint:disable-next-line: deprecation\n\nvar isAnyCodec = getIsCodec('AnyType');\nvar isInterfaceCodec = getIsCodec('InterfaceType');\nvar isPartialCodec = getIsCodec('PartialType'); //\n// basic types\n//\n\n/**\n * @since 1.0.0\n */\n\nvar NullType =\n/** @class */\nfunction (_super) {\n  __extends(NullType, _super);\n\n  function NullType() {\n    var _this = _super.call(this, 'null', function (u) {\n      return u === null;\n    }, function (u, c) {\n      return _this.is(u) ? success(u) : failure(u, c);\n    }, identity) || this;\n\n    _this._tag = 'NullType';\n    return _this;\n  }\n\n  return NullType;\n}(Type);\n\nexport { NullType };\n/**\n * @since 1.0.0\n */\n\nexport var nullType = new NullType();\n/**\n * @since 1.0.0\n */\n\nvar UndefinedType =\n/** @class */\nfunction (_super) {\n  __extends(UndefinedType, _super);\n\n  function UndefinedType() {\n    var _this = _super.call(this, 'undefined', function (u) {\n      return u === void 0;\n    }, function (u, c) {\n      return _this.is(u) ? success(u) : failure(u, c);\n    }, identity) || this;\n\n    _this._tag = 'UndefinedType';\n    return _this;\n  }\n\n  return UndefinedType;\n}(Type);\n\nexport { UndefinedType };\nvar undefinedType = new UndefinedType();\n/**\n * @since 1.2.0\n */\n\nvar VoidType =\n/** @class */\nfunction (_super) {\n  __extends(VoidType, _super);\n\n  function VoidType() {\n    var _this = _super.call(this, 'void', undefinedType.is, undefinedType.validate, identity) || this;\n\n    _this._tag = 'VoidType';\n    return _this;\n  }\n\n  return VoidType;\n}(Type);\n\nexport { VoidType };\n/**\n * @since 1.2.0\n */\n\nexport var voidType = new VoidType();\n/**\n * @since 1.5.0\n */\n\nvar UnknownType =\n/** @class */\nfunction (_super) {\n  __extends(UnknownType, _super);\n\n  function UnknownType() {\n    var _this = _super.call(this, 'unknown', function (_) {\n      return true;\n    }, success, identity) || this;\n\n    _this._tag = 'UnknownType';\n    return _this;\n  }\n\n  return UnknownType;\n}(Type);\n\nexport { UnknownType };\n/**\n * @since 1.5.0\n */\n\nexport var unknown = new UnknownType();\n/**\n * @since 1.0.0\n */\n\nvar StringType =\n/** @class */\nfunction (_super) {\n  __extends(StringType, _super);\n\n  function StringType() {\n    var _this = _super.call(this, 'string', function (u) {\n      return typeof u === 'string';\n    }, function (u, c) {\n      return _this.is(u) ? success(u) : failure(u, c);\n    }, identity) || this;\n\n    _this._tag = 'StringType';\n    return _this;\n  }\n\n  return StringType;\n}(Type);\n\nexport { StringType };\n/**\n * @since 1.0.0\n */\n\nexport var string = new StringType();\n/**\n * @since 1.0.0\n */\n\nvar NumberType =\n/** @class */\nfunction (_super) {\n  __extends(NumberType, _super);\n\n  function NumberType() {\n    var _this = _super.call(this, 'number', function (u) {\n      return typeof u === 'number';\n    }, function (u, c) {\n      return _this.is(u) ? success(u) : failure(u, c);\n    }, identity) || this;\n\n    _this._tag = 'NumberType';\n    return _this;\n  }\n\n  return NumberType;\n}(Type);\n\nexport { NumberType };\n/**\n * @since 1.0.0\n */\n\nexport var number = new NumberType();\n/**\n * @since 1.0.0\n */\n\nvar BooleanType =\n/** @class */\nfunction (_super) {\n  __extends(BooleanType, _super);\n\n  function BooleanType() {\n    var _this = _super.call(this, 'boolean', function (u) {\n      return typeof u === 'boolean';\n    }, function (u, c) {\n      return _this.is(u) ? success(u) : failure(u, c);\n    }, identity) || this;\n\n    _this._tag = 'BooleanType';\n    return _this;\n  }\n\n  return BooleanType;\n}(Type);\n\nexport { BooleanType };\n/**\n * @since 1.0.0\n */\n\nexport var boolean = new BooleanType();\n/**\n * @since 1.0.0\n */\n\nvar AnyArrayType =\n/** @class */\nfunction (_super) {\n  __extends(AnyArrayType, _super);\n\n  function AnyArrayType() {\n    var _this = _super.call(this, 'UnknownArray', Array.isArray, function (u, c) {\n      return _this.is(u) ? success(u) : failure(u, c);\n    }, identity) || this;\n\n    _this._tag = 'AnyArrayType';\n    return _this;\n  }\n\n  return AnyArrayType;\n}(Type);\n\nexport { AnyArrayType };\n/**\n * @since 1.7.1\n */\n\nexport var UnknownArray = new AnyArrayType();\n/**\n * @since 1.0.0\n */\n\nvar AnyDictionaryType =\n/** @class */\nfunction (_super) {\n  __extends(AnyDictionaryType, _super);\n\n  function AnyDictionaryType() {\n    var _this = _super.call(this, 'UnknownRecord', function (u) {\n      return u !== null && typeof u === 'object';\n    }, function (u, c) {\n      return _this.is(u) ? success(u) : failure(u, c);\n    }, identity) || this;\n\n    _this._tag = 'AnyDictionaryType';\n    return _this;\n  }\n\n  return AnyDictionaryType;\n}(Type);\n\nexport { AnyDictionaryType };\n/**\n * @since 1.7.1\n */\n\nexport var UnknownRecord = new AnyDictionaryType();\n/**\n * @since 1.0.0\n * @deprecated\n */\n\nvar FunctionType =\n/** @class */\nfunction (_super) {\n  __extends(FunctionType, _super);\n\n  function FunctionType() {\n    var _this = _super.call(this, 'Function', // tslint:disable-next-line:strict-type-predicates\n    function (u) {\n      return typeof u === 'function';\n    }, function (u, c) {\n      return _this.is(u) ? success(u) : failure(u, c);\n    }, identity) || this;\n\n    _this._tag = 'FunctionType';\n    return _this;\n  }\n\n  return FunctionType;\n}(Type);\n\nexport { FunctionType };\n/**\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\n\nexport var Function = new FunctionType();\n/**\n * @since 1.0.0\n */\n\nvar RefinementType =\n/** @class */\nfunction (_super) {\n  __extends(RefinementType, _super);\n\n  function RefinementType(name, is, validate, encode, type, predicate) {\n    var _this = _super.call(this, name, is, validate, encode) || this;\n\n    _this.type = type;\n    _this.predicate = predicate;\n    _this._tag = 'RefinementType';\n    return _this;\n  }\n\n  return RefinementType;\n}(Type);\n\nexport { RefinementType };\n/**\n * @since 1.8.1\n */\n\nexport var brand = function brand(codec, predicate, name) {\n  // tslint:disable-next-line: deprecation\n  return refinement(codec, predicate, name);\n};\n/**\n * A branded codec representing an integer\n * @since 1.8.1\n */\n\nexport var Int = brand(number, function (n) {\n  return Number.isInteger(n);\n}, 'Int');\n/**\n * @since 1.0.0\n */\n\nvar LiteralType =\n/** @class */\nfunction (_super) {\n  __extends(LiteralType, _super);\n\n  function LiteralType(name, is, validate, encode, value) {\n    var _this = _super.call(this, name, is, validate, encode) || this;\n\n    _this.value = value;\n    _this._tag = 'LiteralType';\n    return _this;\n  }\n\n  return LiteralType;\n}(Type);\n\nexport { LiteralType };\n/**\n * @since 1.0.0\n */\n\nexport var literal = function literal(value, name) {\n  if (name === void 0) {\n    name = JSON.stringify(value);\n  }\n\n  var is = function is(u) {\n    return u === value;\n  };\n\n  return new LiteralType(name, is, function (u, c) {\n    return is(u) ? success(value) : failure(u, c);\n  }, identity, value);\n};\n/**\n * @since 1.0.0\n */\n\nvar KeyofType =\n/** @class */\nfunction (_super) {\n  __extends(KeyofType, _super);\n\n  function KeyofType(name, is, validate, encode, keys) {\n    var _this = _super.call(this, name, is, validate, encode) || this;\n\n    _this.keys = keys;\n    _this._tag = 'KeyofType';\n    return _this;\n  }\n\n  return KeyofType;\n}(Type);\n\nexport { KeyofType };\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n/**\n * @since 1.0.0\n */\n\nexport var keyof = function keyof(keys, name) {\n  if (name === void 0) {\n    name = Object.keys(keys).map(function (k) {\n      return JSON.stringify(k);\n    }).join(' | ');\n  }\n\n  var is = function is(u) {\n    return string.is(u) && hasOwnProperty.call(keys, u);\n  };\n\n  return new KeyofType(name, is, function (u, c) {\n    return is(u) ? success(u) : failure(u, c);\n  }, identity, keys);\n};\n/**\n * @since 1.0.0\n */\n\nvar RecursiveType =\n/** @class */\nfunction (_super) {\n  __extends(RecursiveType, _super);\n\n  function RecursiveType(name, is, validate, encode, runDefinition) {\n    var _this = _super.call(this, name, is, validate, encode) || this;\n\n    _this.runDefinition = runDefinition;\n    _this._tag = 'RecursiveType';\n    return _this;\n  }\n\n  Object.defineProperty(RecursiveType.prototype, \"type\", {\n    get: function get() {\n      return this.runDefinition();\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return RecursiveType;\n}(Type);\n\nexport { RecursiveType };\n/**\n * @since 1.0.0\n */\n\nexport var recursion = function recursion(name, definition) {\n  var cache;\n\n  var runDefinition = function runDefinition() {\n    if (!cache) {\n      cache = definition(Self);\n      cache.name = name;\n    }\n\n    return cache;\n  };\n\n  var Self = new RecursiveType(name, function (u) {\n    return runDefinition().is(u);\n  }, function (u, c) {\n    return runDefinition().validate(u, c);\n  }, function (a) {\n    return runDefinition().encode(a);\n  }, runDefinition);\n  return Self;\n};\n/**\n * @since 1.0.0\n */\n\nvar ArrayType =\n/** @class */\nfunction (_super) {\n  __extends(ArrayType, _super);\n\n  function ArrayType(name, is, validate, encode, type) {\n    var _this = _super.call(this, name, is, validate, encode) || this;\n\n    _this.type = type;\n    _this._tag = 'ArrayType';\n    return _this;\n  }\n\n  return ArrayType;\n}(Type);\n\nexport { ArrayType };\n/**\n * @since 1.0.0\n */\n\nexport var array = function array(codec, name) {\n  if (name === void 0) {\n    name = \"Array<\" + codec.name + \">\";\n  }\n\n  return new ArrayType(name, function (u) {\n    return UnknownArray.is(u) && u.every(codec.is);\n  }, function (u, c) {\n    return chain(UnknownArray.validate(u, c), function (us) {\n      var len = us.length;\n      var as = us;\n      var errors = [];\n\n      for (var i = 0; i < len; i++) {\n        var ui = us[i];\n        var result = codec.validate(ui, appendContext(c, String(i), codec, ui));\n\n        if (isLeft(result)) {\n          pushAll(errors, result.left);\n        } else {\n          var ai = result.right;\n\n          if (ai !== ui) {\n            if (as === us) {\n              as = us.slice();\n            }\n\n            as[i] = ai;\n          }\n        }\n      }\n\n      return errors.length > 0 ? failures(errors) : success(as);\n    });\n  }, codec.encode === identity ? identity : function (a) {\n    return a.map(codec.encode);\n  }, codec);\n};\n/**\n * @since 1.0.0\n */\n\nvar InterfaceType =\n/** @class */\nfunction (_super) {\n  __extends(InterfaceType, _super);\n\n  function InterfaceType(name, is, validate, encode, props) {\n    var _this = _super.call(this, name, is, validate, encode) || this;\n\n    _this.props = props;\n    _this._tag = 'InterfaceType';\n    return _this;\n  }\n\n  return InterfaceType;\n}(Type);\n\nexport { InterfaceType };\n\nvar getNameFromProps = function getNameFromProps(props) {\n  return Object.keys(props).map(function (k) {\n    return k + \": \" + props[k].name;\n  }).join(', ');\n};\n\nvar useIdentity = function useIdentity(codecs) {\n  for (var i = 0; i < codecs.length; i++) {\n    if (codecs[i].encode !== identity) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nvar getInterfaceTypeName = function getInterfaceTypeName(props) {\n  return \"{ \" + getNameFromProps(props) + \" }\";\n};\n/**\n * @since 1.0.0\n */\n\n\nexport var type = function type(props, name) {\n  if (name === void 0) {\n    name = getInterfaceTypeName(props);\n  }\n\n  var keys = Object.keys(props);\n  var types = keys.map(function (key) {\n    return props[key];\n  });\n  var len = keys.length;\n  return new InterfaceType(name, function (u) {\n    if (!UnknownRecord.is(u)) {\n      return false;\n    }\n\n    for (var i = 0; i < len; i++) {\n      var k = keys[i];\n\n      if (!hasOwnProperty.call(u, k) || !types[i].is(u[k])) {\n        return false;\n      }\n    }\n\n    return true;\n  }, function (u, c) {\n    return chain(UnknownRecord.validate(u, c), function (o) {\n      var a = o;\n      var errors = [];\n\n      for (var i = 0; i < len; i++) {\n        var k = keys[i];\n\n        if (!hasOwnProperty.call(a, k)) {\n          if (a === o) {\n            a = __assign({}, o);\n          }\n\n          a[k] = a[k];\n        }\n\n        var ak = a[k];\n        var type_1 = types[i];\n        var result = type_1.validate(ak, appendContext(c, k, type_1, ak));\n\n        if (isLeft(result)) {\n          pushAll(errors, result.left);\n        } else {\n          var vak = result.right;\n\n          if (vak !== ak) {\n            /* istanbul ignore next */\n            if (a === o) {\n              a = __assign({}, o);\n            }\n\n            a[k] = vak;\n          }\n        }\n      }\n\n      return errors.length > 0 ? failures(errors) : success(a);\n    });\n  }, useIdentity(types) ? identity : function (a) {\n    var s = __assign({}, a);\n\n    for (var i = 0; i < len; i++) {\n      var k = keys[i];\n      var encode = types[i].encode;\n\n      if (encode !== identity) {\n        s[k] = encode(a[k]);\n      }\n    }\n\n    return s;\n  }, props);\n};\n/**\n * @since 1.0.0\n */\n\nvar PartialType =\n/** @class */\nfunction (_super) {\n  __extends(PartialType, _super);\n\n  function PartialType(name, is, validate, encode, props) {\n    var _this = _super.call(this, name, is, validate, encode) || this;\n\n    _this.props = props;\n    _this._tag = 'PartialType';\n    return _this;\n  }\n\n  return PartialType;\n}(Type);\n\nexport { PartialType };\n\nvar getPartialTypeName = function getPartialTypeName(inner) {\n  return \"Partial<\" + inner + \">\";\n};\n/**\n * @since 1.0.0\n */\n\n\nexport var partial = function partial(props, name) {\n  if (name === void 0) {\n    name = getPartialTypeName(getInterfaceTypeName(props));\n  }\n\n  var keys = Object.keys(props);\n  var types = keys.map(function (key) {\n    return props[key];\n  });\n  var len = keys.length;\n  return new PartialType(name, function (u) {\n    if (!UnknownRecord.is(u)) {\n      return false;\n    }\n\n    for (var i = 0; i < len; i++) {\n      var k = keys[i];\n      var uk = u[k];\n\n      if (uk !== undefined && !props[k].is(uk)) {\n        return false;\n      }\n    }\n\n    return true;\n  }, function (u, c) {\n    return chain(UnknownRecord.validate(u, c), function (o) {\n      var a = o;\n      var errors = [];\n\n      for (var i = 0; i < len; i++) {\n        var k = keys[i];\n        var ak = a[k];\n        var type_2 = props[k];\n        var result = type_2.validate(ak, appendContext(c, k, type_2, ak));\n\n        if (isLeft(result)) {\n          if (ak !== undefined) {\n            pushAll(errors, result.left);\n          }\n        } else {\n          var vak = result.right;\n\n          if (vak !== ak) {\n            /* istanbul ignore next */\n            if (a === o) {\n              a = __assign({}, o);\n            }\n\n            a[k] = vak;\n          }\n        }\n      }\n\n      return errors.length > 0 ? failures(errors) : success(a);\n    });\n  }, useIdentity(types) ? identity : function (a) {\n    var s = __assign({}, a);\n\n    for (var i = 0; i < len; i++) {\n      var k = keys[i];\n      var ak = a[k];\n\n      if (ak !== undefined) {\n        s[k] = types[i].encode(ak);\n      }\n    }\n\n    return s;\n  }, props);\n};\n/**\n * @since 1.0.0\n */\n\nvar DictionaryType =\n/** @class */\nfunction (_super) {\n  __extends(DictionaryType, _super);\n\n  function DictionaryType(name, is, validate, encode, domain, codomain) {\n    var _this = _super.call(this, name, is, validate, encode) || this;\n\n    _this.domain = domain;\n    _this.codomain = codomain;\n    _this._tag = 'DictionaryType';\n    return _this;\n  }\n\n  return DictionaryType;\n}(Type);\n\nexport { DictionaryType };\n\nvar isObject = function isObject(r) {\n  return Object.prototype.toString.call(r) === '[object Object]';\n};\n/**\n * @since 1.7.1\n */\n\n\nexport var record = function record(domain, codomain, name) {\n  if (name === void 0) {\n    name = \"{ [K in \" + domain.name + \"]: \" + codomain.name + \" }\";\n  }\n\n  return new DictionaryType(name, function (u) {\n    if (!UnknownRecord.is(u)) {\n      return false;\n    }\n\n    if (!isUnknownCodec(codomain) && !isAnyCodec(codomain) && !isObject(u)) {\n      return false;\n    }\n\n    return Object.keys(u).every(function (k) {\n      return domain.is(k) && codomain.is(u[k]);\n    });\n  }, function (u, c) {\n    return chain(UnknownRecord.validate(u, c), function (o) {\n      if (!isUnknownCodec(codomain) && !isAnyCodec(codomain) && !isObject(o)) {\n        return failure(u, c);\n      }\n\n      var a = {};\n      var errors = [];\n      var keys = Object.keys(o);\n      var len = keys.length;\n      var changed = false;\n\n      for (var i = 0; i < len; i++) {\n        var k = keys[i];\n        var ok = o[k];\n        var domainResult = domain.validate(k, appendContext(c, k, domain, k));\n\n        if (isLeft(domainResult)) {\n          pushAll(errors, domainResult.left);\n        } else {\n          var vk = domainResult.right;\n          changed = changed || vk !== k;\n          k = vk;\n          var codomainResult = codomain.validate(ok, appendContext(c, k, codomain, ok));\n\n          if (isLeft(codomainResult)) {\n            pushAll(errors, codomainResult.left);\n          } else {\n            var vok = codomainResult.right;\n            changed = changed || vok !== ok;\n            a[k] = vok;\n          }\n        }\n      }\n\n      return errors.length > 0 ? failures(errors) : success(changed ? a : o);\n    });\n  }, domain.encode === identity && codomain.encode === identity ? identity : function (a) {\n    var s = {};\n    var keys = Object.keys(a);\n    var len = keys.length;\n\n    for (var i = 0; i < len; i++) {\n      var k = keys[i];\n      s[String(domain.encode(k))] = codomain.encode(a[k]);\n    }\n\n    return s;\n  }, domain, codomain);\n};\n/**\n * @since 1.0.0\n */\n\nvar UnionType =\n/** @class */\nfunction (_super) {\n  __extends(UnionType, _super);\n\n  function UnionType(name, is, validate, encode, types) {\n    var _this = _super.call(this, name, is, validate, encode) || this;\n\n    _this.types = types;\n    _this._tag = 'UnionType';\n    return _this;\n  }\n\n  return UnionType;\n}(Type);\n\nexport { UnionType };\n\nvar getUnionName = function getUnionName(codecs) {\n  return '(' + codecs.map(function (type) {\n    return type.name;\n  }).join(' | ') + ')';\n};\n/**\n * @since 1.0.0\n */\n\n\nexport var union = function union(codecs, name) {\n  if (name === void 0) {\n    name = getUnionName(codecs);\n  }\n\n  var index = getIndex(codecs);\n\n  if (index !== undefined && codecs.length > 0) {\n    var tag_1 = index[0],\n        groups_1 = index[1];\n    var len_1 = groups_1.length;\n\n    var find_1 = function find_1(value) {\n      for (var i = 0; i < len_1; i++) {\n        if (groups_1[i].indexOf(value) !== -1) {\n          return i;\n        }\n      }\n\n      return undefined;\n    }; // tslint:disable-next-line: deprecation\n\n\n    return new TaggedUnionType(name, function (u) {\n      if (!UnknownRecord.is(u)) {\n        return false;\n      }\n\n      var i = find_1(u[tag_1]);\n      return i !== undefined ? codecs[i].is(u) : false;\n    }, function (u, c) {\n      return chain(UnknownRecord.validate(u, c), function (r) {\n        var i = find_1(r[tag_1]);\n\n        if (i === undefined) {\n          return failure(u, c);\n        }\n\n        var codec = codecs[i];\n        return codec.validate(r, appendContext(c, String(i), codec, r));\n      });\n    }, useIdentity(codecs) ? identity : function (a) {\n      var i = find_1(a[tag_1]);\n\n      if (i === undefined) {\n        // https://github.com/gcanti/io-ts/pull/305\n        throw new Error(\"no codec found to encode value in union codec \" + name);\n      } else {\n        return codecs[i].encode(a);\n      }\n    }, codecs, tag_1);\n  } else {\n    return new UnionType(name, function (u) {\n      return codecs.some(function (type) {\n        return type.is(u);\n      });\n    }, function (u, c) {\n      var errors = [];\n\n      for (var i = 0; i < codecs.length; i++) {\n        var codec = codecs[i];\n        var result = codec.validate(u, appendContext(c, String(i), codec, u));\n\n        if (isLeft(result)) {\n          pushAll(errors, result.left);\n        } else {\n          return success(result.right);\n        }\n      }\n\n      return failures(errors);\n    }, useIdentity(codecs) ? identity : function (a) {\n      for (var _i = 0, codecs_1 = codecs; _i < codecs_1.length; _i++) {\n        var codec = codecs_1[_i];\n\n        if (codec.is(a)) {\n          return codec.encode(a);\n        }\n      } // https://github.com/gcanti/io-ts/pull/305\n\n\n      throw new Error(\"no codec found to encode value in union type \" + name);\n    }, codecs);\n  }\n};\n/**\n * @since 1.0.0\n */\n\nvar IntersectionType =\n/** @class */\nfunction (_super) {\n  __extends(IntersectionType, _super);\n\n  function IntersectionType(name, is, validate, encode, types) {\n    var _this = _super.call(this, name, is, validate, encode) || this;\n\n    _this.types = types;\n    _this._tag = 'IntersectionType';\n    return _this;\n  }\n\n  return IntersectionType;\n}(Type);\n\nexport { IntersectionType };\n\nvar mergeAll = function mergeAll(base, us) {\n  var r = base;\n\n  for (var i = 0; i < us.length; i++) {\n    var u = us[i];\n\n    if (u !== base) {\n      // `u` contains a prismatic value or is the result of a stripping combinator\n      if (r === base) {\n        r = Object.assign({}, u);\n        continue;\n      }\n\n      for (var k in u) {\n        if (u[k] !== base[k] || !r.hasOwnProperty(k)) {\n          r[k] = u[k];\n        }\n      }\n    }\n  }\n\n  return r;\n};\n\nexport function intersection(codecs, name) {\n  if (name === void 0) {\n    name = \"(\" + codecs.map(function (type) {\n      return type.name;\n    }).join(' & ') + \")\";\n  }\n\n  var len = codecs.length;\n  return new IntersectionType(name, function (u) {\n    return codecs.every(function (type) {\n      return type.is(u);\n    });\n  }, codecs.length === 0 ? success : function (u, c) {\n    var us = [];\n    var errors = [];\n\n    for (var i = 0; i < len; i++) {\n      var codec = codecs[i];\n      var result = codec.validate(u, appendContext(c, String(i), codec, u));\n\n      if (isLeft(result)) {\n        pushAll(errors, result.left);\n      } else {\n        us.push(result.right);\n      }\n    }\n\n    return errors.length > 0 ? failures(errors) : success(mergeAll(u, us));\n  }, codecs.length === 0 ? identity : function (a) {\n    return mergeAll(a, codecs.map(function (codec) {\n      return codec.encode(a);\n    }));\n  }, codecs);\n}\n/**\n * @since 1.0.0\n */\n\nvar TupleType =\n/** @class */\nfunction (_super) {\n  __extends(TupleType, _super);\n\n  function TupleType(name, is, validate, encode, types) {\n    var _this = _super.call(this, name, is, validate, encode) || this;\n\n    _this.types = types;\n    _this._tag = 'TupleType';\n    return _this;\n  }\n\n  return TupleType;\n}(Type);\n\nexport { TupleType };\nexport function tuple(codecs, name) {\n  if (name === void 0) {\n    name = \"[\" + codecs.map(function (type) {\n      return type.name;\n    }).join(', ') + \"]\";\n  }\n\n  var len = codecs.length;\n  return new TupleType(name, function (u) {\n    return UnknownArray.is(u) && u.length === len && codecs.every(function (type, i) {\n      return type.is(u[i]);\n    });\n  }, function (u, c) {\n    return chain(UnknownArray.validate(u, c), function (us) {\n      var as = us.length > len ? us.slice(0, len) : us; // strip additional components\n\n      var errors = [];\n\n      for (var i = 0; i < len; i++) {\n        var a = us[i];\n        var type_3 = codecs[i];\n        var result = type_3.validate(a, appendContext(c, String(i), type_3, a));\n\n        if (isLeft(result)) {\n          pushAll(errors, result.left);\n        } else {\n          var va = result.right;\n\n          if (va !== a) {\n            /* istanbul ignore next */\n            if (as === us) {\n              as = us.slice();\n            }\n\n            as[i] = va;\n          }\n        }\n      }\n\n      return errors.length > 0 ? failures(errors) : success(as);\n    });\n  }, useIdentity(codecs) ? identity : function (a) {\n    return codecs.map(function (type, i) {\n      return type.encode(a[i]);\n    });\n  }, codecs);\n}\n/**\n * @since 1.0.0\n */\n\nvar ReadonlyType =\n/** @class */\nfunction (_super) {\n  __extends(ReadonlyType, _super);\n\n  function ReadonlyType(name, is, validate, encode, type) {\n    var _this = _super.call(this, name, is, validate, encode) || this;\n\n    _this.type = type;\n    _this._tag = 'ReadonlyType';\n    return _this;\n  }\n\n  return ReadonlyType;\n}(Type);\n\nexport { ReadonlyType };\n/**\n * @since 1.0.0\n */\n\nexport var readonly = function readonly(codec, name) {\n  if (name === void 0) {\n    name = \"Readonly<\" + codec.name + \">\";\n  }\n\n  return new ReadonlyType(name, codec.is, function (u, c) {\n    return map(codec.validate(u, c), function (x) {\n      if (process.env.NODE_ENV !== 'production') {\n        return Object.freeze(x);\n      }\n\n      return x;\n    });\n  }, codec.encode === identity ? identity : codec.encode, codec);\n};\n/**\n * @since 1.0.0\n */\n\nvar ReadonlyArrayType =\n/** @class */\nfunction (_super) {\n  __extends(ReadonlyArrayType, _super);\n\n  function ReadonlyArrayType(name, is, validate, encode, type) {\n    var _this = _super.call(this, name, is, validate, encode) || this;\n\n    _this.type = type;\n    _this._tag = 'ReadonlyArrayType';\n    return _this;\n  }\n\n  return ReadonlyArrayType;\n}(Type);\n\nexport { ReadonlyArrayType };\n/**\n * @since 1.0.0\n */\n\nexport var readonlyArray = function readonlyArray(codec, name) {\n  if (name === void 0) {\n    name = \"ReadonlyArray<\" + codec.name + \">\";\n  }\n\n  var arrayType = array(codec);\n  return new ReadonlyArrayType(name, arrayType.is, function (u, c) {\n    return map(arrayType.validate(u, c), function (x) {\n      if (process.env.NODE_ENV !== 'production') {\n        return Object.freeze(x);\n      }\n\n      return x;\n    });\n  }, arrayType.encode, codec);\n};\n/**\n * Strips additional properties\n * @since 1.0.0\n */\n\nexport var strict = function strict(props, name) {\n  return exact(type(props), name);\n};\n/**\n * @since 1.3.0\n * @deprecated\n */\n\nvar TaggedUnionType =\n/** @class */\nfunction (_super) {\n  __extends(TaggedUnionType, _super);\n\n  function TaggedUnionType(name, // tslint:disable-next-line: deprecation\n  is, // tslint:disable-next-line: deprecation\n  validate, // tslint:disable-next-line: deprecation\n  encode, codecs, tag) {\n    var _this = _super.call(this, name, is, validate, encode, codecs)\n    /* istanbul ignore next */\n    // <= workaround for https://github.com/Microsoft/TypeScript/issues/13455\n    || this;\n\n    _this.tag = tag;\n    return _this;\n  }\n\n  return TaggedUnionType;\n}(UnionType);\n\nexport { TaggedUnionType };\n/**\n * Use `union` instead\n *\n * @since 1.3.0\n * @deprecated\n */\n\nexport var taggedUnion = function taggedUnion(tag, codecs, name // tslint:disable-next-line: deprecation\n) {\n  if (name === void 0) {\n    name = getUnionName(codecs);\n  }\n\n  var U = union(codecs, name); // tslint:disable-next-line: deprecation\n\n  if (U instanceof TaggedUnionType) {\n    return U;\n  } else {\n    console.warn(\"[io-ts] Cannot build a tagged union for \" + name + \", returning a de-optimized union\"); // tslint:disable-next-line: deprecation\n\n    return new TaggedUnionType(name, U.is, U.validate, U.encode, codecs, tag);\n  }\n};\n/**\n * @since 1.1.0\n */\n\nvar ExactType =\n/** @class */\nfunction (_super) {\n  __extends(ExactType, _super);\n\n  function ExactType(name, is, validate, encode, type) {\n    var _this = _super.call(this, name, is, validate, encode) || this;\n\n    _this.type = type;\n    _this._tag = 'ExactType';\n    return _this;\n  }\n\n  return ExactType;\n}(Type);\n\nexport { ExactType };\n\nvar getProps = function getProps(codec) {\n  switch (codec._tag) {\n    case 'RefinementType':\n    case 'ReadonlyType':\n      return getProps(codec.type);\n\n    case 'InterfaceType':\n    case 'StrictType':\n    case 'PartialType':\n      return codec.props;\n\n    case 'IntersectionType':\n      return codec.types.reduce(function (props, type) {\n        return Object.assign(props, getProps(type));\n      }, {});\n  }\n};\n\nvar stripKeys = function stripKeys(o, props) {\n  var keys = Object.getOwnPropertyNames(o);\n  var shouldStrip = false;\n  var r = {};\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n\n    if (!hasOwnProperty.call(props, key)) {\n      shouldStrip = true;\n    } else {\n      r[key] = o[key];\n    }\n  }\n\n  return shouldStrip ? r : o;\n};\n\nvar getExactTypeName = function getExactTypeName(codec) {\n  if (isInterfaceCodec(codec)) {\n    return \"{| \" + getNameFromProps(codec.props) + \" |}\";\n  } else if (isPartialCodec(codec)) {\n    return getPartialTypeName(\"{| \" + getNameFromProps(codec.props) + \" |}\");\n  }\n\n  return \"Exact<\" + codec.name + \">\";\n};\n/**\n * Strips additional properties\n * @since 1.1.0\n */\n\n\nexport var exact = function exact(codec, name) {\n  if (name === void 0) {\n    name = getExactTypeName(codec);\n  }\n\n  var props = getProps(codec);\n  return new ExactType(name, codec.is, function (u, c) {\n    return chain(UnknownRecord.validate(u, c), function () {\n      return map(codec.validate(u, c), function (a) {\n        return stripKeys(a, props);\n      });\n    });\n  }, function (a) {\n    return codec.encode(stripKeys(a, props));\n  }, codec);\n};\nexport {\n/**\n * @since 1.0.0\n */\nnullType as null };\nexport {\n/**\n * @since 1.0.0\n */\nundefinedType as undefined };\nexport {\n/**\n * Use `UnknownArray` instead\n * @deprecated\n * @since 1.0.0\n */\nUnknownArray as Array };\nexport {\n/**\n * @since 1.0.0\n */\ntype as interface };\nexport {\n/**\n * @since 1.0.0\n */\nvoidType as void };\n/**\n * @since 1.0.0\n * @deprecated\n */\n\nexport var getValidationError\n/* istanbul ignore next */\n= function getValidationError\n/* istanbul ignore next */\n(value, context) {\n  return {\n    value: value,\n    context: context\n  };\n};\n/**\n * @since 1.0.0\n * @deprecated\n */\n\nexport var getDefaultContext\n/* istanbul ignore next */\n= function getDefaultContext\n/* istanbul ignore next */\n(decoder) {\n  return [{\n    key: '',\n    type: decoder\n  }];\n};\n/**\n * @since 1.0.0\n * @deprecated\n */\n\nvar NeverType =\n/** @class */\nfunction (_super) {\n  __extends(NeverType, _super);\n\n  function NeverType() {\n    var _this = _super.call(this, 'never', function (_) {\n      return false;\n    }, function (u, c) {\n      return failure(u, c);\n    },\n    /* istanbul ignore next */\n    function () {\n      throw new Error('cannot encode never');\n    }) || this;\n\n    _this._tag = 'NeverType';\n    return _this;\n  }\n\n  return NeverType;\n}(Type);\n\nexport { NeverType };\n/**\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\n\nexport var never = new NeverType();\n/**\n * @since 1.0.0\n * @deprecated\n */\n\nvar AnyType =\n/** @class */\nfunction (_super) {\n  __extends(AnyType, _super);\n\n  function AnyType() {\n    var _this = _super.call(this, 'any', function (_) {\n      return true;\n    }, success, identity) || this;\n\n    _this._tag = 'AnyType';\n    return _this;\n  }\n\n  return AnyType;\n}(Type);\n\nexport { AnyType };\n/**\n * Use `unknown` instead\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\n\nexport var any = new AnyType();\n/**\n * Use `UnknownRecord` instead\n * @since 1.0.0\n * @deprecated\n */\n\nexport var Dictionary = UnknownRecord;\n/**\n * @since 1.0.0\n * @deprecated\n */\n\nvar ObjectType =\n/** @class */\nfunction (_super) {\n  __extends(ObjectType, _super);\n\n  function ObjectType() {\n    var _this = _super.call(this, 'object', UnknownRecord.is, UnknownRecord.validate, identity) || this;\n\n    _this._tag = 'ObjectType';\n    return _this;\n  }\n\n  return ObjectType;\n}(Type);\n\nexport { ObjectType };\n/**\n * Use `UnknownRecord` instead\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\n\nexport var object = new ObjectType();\n/**\n * Use `brand` instead\n * @since 1.0.0\n * @deprecated\n */\n\nexport function refinement(codec, predicate, name) {\n  if (name === void 0) {\n    name = \"(\" + codec.name + \" | \" + getFunctionName(predicate) + \")\";\n  }\n\n  return new RefinementType(name, function (u) {\n    return codec.is(u) && predicate(u);\n  }, function (i, c) {\n    return chain(codec.validate(i, c), function (a) {\n      return predicate(a) ? success(a) : failure(a, c);\n    });\n  }, codec.encode, codec, predicate);\n}\n/**\n * Use `Int` instead\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\n\nexport var Integer = refinement(number, Number.isInteger, 'Integer');\n/**\n * Use `record` instead\n * @since 1.0.0\n * @deprecated\n */\n\nexport var dictionary = record;\n/**\n * @since 1.0.0\n * @deprecated\n */\n\nvar StrictType =\n/** @class */\nfunction (_super) {\n  __extends(StrictType, _super);\n\n  function StrictType(name, // tslint:disable-next-line: deprecation\n  is, // tslint:disable-next-line: deprecation\n  validate, // tslint:disable-next-line: deprecation\n  encode, props) {\n    var _this = _super.call(this, name, is, validate, encode) || this;\n\n    _this.props = props;\n    _this._tag = 'StrictType';\n    return _this;\n  }\n\n  return StrictType;\n}(Type);\n\nexport { StrictType };\n/**\n * Drops the codec \"kind\"\n * @since 1.1.0\n * @deprecated\n */\n\nexport function clean(codec) {\n  return codec;\n}\nexport function alias(codec) {\n  return function () {\n    return codec;\n  };\n}\n\nvar isNonEmpty = function isNonEmpty(as) {\n  return as.length > 0;\n};\n/**\n * @internal\n */\n\n\nexport var emptyTags = {};\n\nfunction intersect(a, b) {\n  var r = [];\n\n  for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n    var v = a_1[_i];\n\n    if (b.indexOf(v) !== -1) {\n      r.push(v);\n    }\n  }\n\n  return r;\n}\n\nfunction mergeTags(a, b) {\n  if (a === emptyTags) {\n    return b;\n  }\n\n  if (b === emptyTags) {\n    return a;\n  }\n\n  var r = Object.assign({}, a);\n\n  for (var k in b) {\n    if (a.hasOwnProperty(k)) {\n      var intersection_1 = intersect(a[k], b[k]);\n\n      if (isNonEmpty(intersection_1)) {\n        r[k] = intersection_1;\n      } else {\n        r = emptyTags;\n        break;\n      }\n    } else {\n      r[k] = b[k];\n    }\n  }\n\n  return r;\n}\n\nfunction intersectTags(a, b) {\n  if (a === emptyTags || b === emptyTags) {\n    return emptyTags;\n  }\n\n  var r = emptyTags;\n\n  for (var k in a) {\n    if (b.hasOwnProperty(k)) {\n      var intersection_2 = intersect(a[k], b[k]);\n\n      if (intersection_2.length === 0) {\n        if (r === emptyTags) {\n          r = {};\n        }\n\n        r[k] = a[k].concat(b[k]);\n      }\n    }\n  }\n\n  return r;\n}\n\nfunction isLiteralC(codec) {\n  return codec._tag === 'LiteralType';\n}\n\nfunction isTypeC(codec) {\n  return codec._tag === 'InterfaceType';\n} // tslint:disable-next-line: deprecation\n\n\nfunction isStrictC(codec) {\n  return codec._tag === 'StrictType';\n}\n\nfunction isExactC(codec) {\n  return codec._tag === 'ExactType';\n} // tslint:disable-next-line: deprecation\n\n\nfunction isRefinementC(codec) {\n  return codec._tag === 'RefinementType';\n}\n\nfunction isIntersectionC(codec) {\n  return codec._tag === 'IntersectionType';\n}\n\nfunction isUnionC(codec) {\n  return codec._tag === 'UnionType';\n}\n\nfunction isRecursiveC(codec) {\n  return codec._tag === 'RecursiveType';\n}\n\nvar lazyCodecs = [];\n/**\n * @internal\n */\n\nexport function getTags(codec) {\n  if (lazyCodecs.indexOf(codec) !== -1) {\n    return emptyTags;\n  }\n\n  if (isTypeC(codec) || isStrictC(codec)) {\n    var index = emptyTags; // tslint:disable-next-line: forin\n\n    for (var k in codec.props) {\n      var prop = codec.props[k];\n\n      if (isLiteralC(prop)) {\n        if (index === emptyTags) {\n          index = {};\n        }\n\n        index[k] = [prop.value];\n      }\n    }\n\n    return index;\n  } else if (isExactC(codec) || isRefinementC(codec)) {\n    return getTags(codec.type);\n  } else if (isIntersectionC(codec)) {\n    return codec.types.reduce(function (tags, codec) {\n      return mergeTags(tags, getTags(codec));\n    }, emptyTags);\n  } else if (isUnionC(codec)) {\n    return codec.types.slice(1).reduce(function (tags, codec) {\n      return intersectTags(tags, getTags(codec));\n    }, getTags(codec.types[0]));\n  } else if (isRecursiveC(codec)) {\n    lazyCodecs.push(codec);\n    var tags = getTags(codec.type);\n    lazyCodecs.pop();\n    return tags;\n  }\n\n  return emptyTags;\n}\n/**\n * @internal\n */\n\nexport function getIndex(codecs) {\n  var tags = getTags(codecs[0]);\n  var keys = Object.keys(tags);\n  var len = codecs.length;\n\n  var _loop_1 = function _loop_1(k) {\n    var all = tags[k].slice();\n    var index = [tags[k]];\n\n    for (var i = 1; i < len; i++) {\n      var codec = codecs[i];\n      var ctags = getTags(codec);\n      var values = ctags[k]; // tslint:disable-next-line: strict-type-predicates\n\n      if (values === undefined) {\n        return \"continue-keys\";\n      } else {\n        if (values.some(function (v) {\n          return all.indexOf(v) !== -1;\n        })) {\n          return \"continue-keys\";\n        } else {\n          all.push.apply(all, values);\n          index.push(values);\n        }\n      }\n    }\n\n    return {\n      value: [k, index]\n    };\n  };\n\n  keys: for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n    var k = keys_1[_i];\n\n    var state_1 = _loop_1(k);\n\n    if (typeof state_1 === \"object\") return state_1.value;\n\n    switch (state_1) {\n      case \"continue-keys\":\n        continue keys;\n    }\n  }\n\n  return undefined;\n}","map":{"version":3,"sources":["/Users/crypto/Daisys/node_modules/io-ts/es6/index.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","either","isLeft","left","right","map","chain","Type","name","is","validate","encode","decode","bind","pipe","ab","_this","c","a","identity","asDecoder","asEncoder","key","type","actual","getFunctionName","f","displayName","getContextEntry","decoder","appendContext","len","r","failures","failure","value","context","message","success","pushAll","xs","ys","l","push","getIsCodec","tag","codec","_tag","isUnknownCodec","isAnyCodec","isInterfaceCodec","isPartialCodec","NullType","_super","u","nullType","UndefinedType","undefinedType","VoidType","voidType","UnknownType","_","unknown","StringType","string","NumberType","number","BooleanType","boolean","AnyArrayType","isArray","UnknownArray","AnyDictionaryType","UnknownRecord","FunctionType","Function","RefinementType","predicate","brand","refinement","Int","Number","isInteger","LiteralType","literal","JSON","stringify","KeyofType","keys","keyof","k","join","RecursiveType","runDefinition","defineProperty","get","enumerable","configurable","recursion","definition","cache","Self","ArrayType","array","every","us","as","errors","ui","result","String","ai","slice","InterfaceType","props","getNameFromProps","useIdentity","codecs","getInterfaceTypeName","types","o","ak","type_1","vak","PartialType","getPartialTypeName","inner","partial","uk","undefined","type_2","DictionaryType","domain","codomain","isObject","toString","record","changed","ok","domainResult","vk","codomainResult","vok","UnionType","getUnionName","union","index","getIndex","tag_1","groups_1","len_1","find_1","indexOf","TaggedUnionType","Error","some","_i","codecs_1","IntersectionType","mergeAll","base","intersection","TupleType","tuple","type_3","va","ReadonlyType","readonly","x","process","env","NODE_ENV","freeze","ReadonlyArrayType","readonlyArray","arrayType","strict","exact","taggedUnion","U","console","warn","ExactType","getProps","reduce","stripKeys","getOwnPropertyNames","shouldStrip","getExactTypeName","null","interface","void","getValidationError","getDefaultContext","NeverType","never","AnyType","any","Dictionary","ObjectType","object","Integer","dictionary","StrictType","clean","alias","isNonEmpty","emptyTags","intersect","a_1","v","mergeTags","intersection_1","intersectTags","intersection_2","concat","isLiteralC","isTypeC","isStrictC","isExactC","isRefinementC","isIntersectionC","isUnionC","isRecursiveC","lazyCodecs","getTags","prop","tags","pop","_loop_1","all","ctags","values","keys_1","state_1"],"mappings":"AAAA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA6B,YAAY;AACrD,MAAIC,cAAa,GAAG,uBAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChCF,IAAAA,cAAa,GAAGG,MAAM,CAACC,cAAP,IACX;AAAEC,MAAAA,SAAS,EAAE;AAAb,iBAA6BC,KAA7B,IAAsC,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AAAED,MAAAA,CAAC,CAACI,SAAF,GAAcH,CAAd;AAAkB,KAD/D,IAEZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AAAE,WAAK,IAAIK,CAAT,IAAcL,CAAd;AAAiB,YAAIA,CAAC,CAACM,cAAF,CAAiBD,CAAjB,CAAJ,EAAyBN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AAA1C;AAAwD,KAF9E;;AAGA,WAAOP,cAAa,CAACC,CAAD,EAAIC,CAAJ,CAApB;AACH,GALD;;AAMA,SAAO,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AACnBF,IAAAA,cAAa,CAACC,CAAD,EAAIC,CAAJ,CAAb;;AACA,aAASO,EAAT,GAAc;AAAE,WAAKC,WAAL,GAAmBT,CAAnB;AAAuB;;AACvCA,IAAAA,CAAC,CAACU,SAAF,GAAcT,CAAC,KAAK,IAAN,GAAaC,MAAM,CAACS,MAAP,CAAcV,CAAd,CAAb,IAAiCO,EAAE,CAACE,SAAH,GAAeT,CAAC,CAACS,SAAjB,EAA4B,IAAIF,EAAJ,EAA7D,CAAd;AACH,GAJD;AAKH,CAZ2C,EAA5C;;AAaA,IAAII,QAAQ,GAAI,QAAQ,KAAKA,QAAd,IAA2B,YAAY;AAClDA,EAAAA,QAAQ,GAAGV,MAAM,CAACW,MAAP,IAAiB,UAASC,CAAT,EAAY;AACpC,SAAK,IAAIC,CAAJ,EAAOC,CAAC,GAAG,CAAX,EAAcC,CAAC,GAAGC,SAAS,CAACC,MAAjC,EAAyCH,CAAC,GAAGC,CAA7C,EAAgDD,CAAC,EAAjD,EAAqD;AACjDD,MAAAA,CAAC,GAAGG,SAAS,CAACF,CAAD,CAAb;;AACA,WAAK,IAAIV,CAAT,IAAcS,CAAd;AAAiB,YAAIb,MAAM,CAACQ,SAAP,CAAiBH,cAAjB,CAAgCa,IAAhC,CAAqCL,CAArC,EAAwCT,CAAxC,CAAJ,EACbQ,CAAC,CAACR,CAAD,CAAD,GAAOS,CAAC,CAACT,CAAD,CAAR;AADJ;AAEH;;AACD,WAAOQ,CAAP;AACH,GAPD;;AAQA,SAAOF,QAAQ,CAACS,KAAT,CAAe,IAAf,EAAqBH,SAArB,CAAP;AACH,CAVD;;AAWA,SAASI,MAAT,EAAiBC,MAAjB,EAAyBC,IAAzB,EAA+BC,KAA/B,QAA4C,kBAA5C;AACA,IAAIC,GAAG,GAAGJ,MAAM,CAACI,GAAjB;AACA,IAAIC,KAAK,GAAGL,MAAM,CAACK,KAAnB;AACA;AACA;AACA;;AACA,IAAIC,IAAI;AAAG;AAAe,YAAY;AAClC,WAASA,IAAT;AACA;AACAC,EAAAA,IAFA;AAGA;AACAC,EAAAA,EAJA;AAKA;AACAC,EAAAA,QANA;AAOA;AACAC,EAAAA,MARA,EAQQ;AACJ,SAAKH,IAAL,GAAYA,IAAZ;AACA,SAAKC,EAAL,GAAUA,EAAV;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AACH;AACD;AACJ;AACA;;;AACIN,EAAAA,IAAI,CAAClB,SAAL,CAAeyB,IAAf,GAAsB,UAAUC,EAAV,EAAcP,IAAd,EAAoB;AACtC,QAAIQ,KAAK,GAAG,IAAZ;;AACA,QAAIR,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAEA,MAAAA,IAAI,GAAG,UAAU,KAAKA,IAAf,GAAsB,IAAtB,GAA6BO,EAAE,CAACP,IAAhC,GAAuC,GAA9C;AAAoD;;AAC3E,WAAO,IAAID,IAAJ,CAASC,IAAT,EAAeO,EAAE,CAACN,EAAlB,EAAsB,UAAUd,CAAV,EAAasB,CAAb,EAAgB;AAAE,aAAOX,KAAK,CAACU,KAAK,CAACN,QAAN,CAAef,CAAf,EAAkBsB,CAAlB,CAAD,EAAuB,UAAUC,CAAV,EAAa;AAAE,eAAOH,EAAE,CAACL,QAAH,CAAYQ,CAAZ,EAAeD,CAAf,CAAP;AAA2B,OAAjE,CAAZ;AAAiF,KAAzH,EAA2H,KAAKN,MAAL,KAAgBQ,QAAhB,IAA4BJ,EAAE,CAACJ,MAAH,KAAcQ,QAA1C,GAAqDA,QAArD,GAAgE,UAAUvC,CAAV,EAAa;AAAE,aAAOoC,KAAK,CAACL,MAAN,CAAaI,EAAE,CAACJ,MAAH,CAAU/B,CAAV,CAAb,CAAP;AAAoC,KAA9O,CAAP;AACH,GAJD;AAKA;AACJ;AACA;;;AACI2B,EAAAA,IAAI,CAAClB,SAAL,CAAe+B,SAAf,GAA2B,YAAY;AACnC,WAAO,IAAP;AACH,GAFD;AAGA;AACJ;AACA;;;AACIb,EAAAA,IAAI,CAAClB,SAAL,CAAegC,SAAf,GAA2B,YAAY;AACnC,WAAO,IAAP;AACH,GAFD;AAGA;AACJ;AACA;AACA;;;AACId,EAAAA,IAAI,CAAClB,SAAL,CAAeuB,MAAf,GAAwB,UAAUjB,CAAV,EAAa;AACjC,WAAO,KAAKe,QAAL,CAAcf,CAAd,EAAiB,CAAC;AAAE2B,MAAAA,GAAG,EAAE,EAAP;AAAWC,MAAAA,IAAI,EAAE,IAAjB;AAAuBC,MAAAA,MAAM,EAAE7B;AAA/B,KAAD,CAAjB,CAAP;AACH,GAFD;;AAGA,SAAOY,IAAP;AACH,CA5CyB,EAA1B;;AA6CA,SAASA,IAAT;AACA;AACA;AACA;;AACA,OAAO,IAAIY,QAAQ,GAAG,SAAXA,QAAW,CAAUD,CAAV,EAAa;AAAE,SAAOA,CAAP;AAAW,CAAzC;AACP;AACA;AACA;;AACA,OAAO,IAAIO,eAAe,GAAG,SAAlBA,eAAkB,CAAUC,CAAV,EAAa;AACtC,SAAOA,CAAC,CAACC,WAAF,IAAiBD,CAAC,CAAClB,IAAnB,IAA2B,cAAckB,CAAC,CAAC5B,MAAhB,GAAyB,GAA3D;AACH,CAFM;AAGP;AACA;AACA;;AACA,OAAO,IAAI8B,eAAe,GAAG,SAAlBA,eAAkB,CAAUN,GAAV,EAAeO,OAAf,EAAwB;AAAE,SAAQ;AAAEP,IAAAA,GAAG,EAAEA,GAAP;AAAYC,IAAAA,IAAI,EAAEM;AAAlB,GAAR;AAAuC,CAAvF;AACP;AACA;AACA;;AACA,OAAO,IAAIC,aAAa,GAAG,SAAhBA,aAAgB,CAAUb,CAAV,EAAaK,GAAb,EAAkBO,OAAlB,EAA2BL,MAA3B,EAAmC;AAC1D,MAAIO,GAAG,GAAGd,CAAC,CAACnB,MAAZ;AACA,MAAIkC,CAAC,GAAGhD,KAAK,CAAC+C,GAAG,GAAG,CAAP,CAAb;;AACA,OAAK,IAAIpC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoC,GAApB,EAAyBpC,CAAC,EAA1B,EAA8B;AAC1BqC,IAAAA,CAAC,CAACrC,CAAD,CAAD,GAAOsB,CAAC,CAACtB,CAAD,CAAR;AACH;;AACDqC,EAAAA,CAAC,CAACD,GAAD,CAAD,GAAS;AAAET,IAAAA,GAAG,EAAEA,GAAP;AAAYC,IAAAA,IAAI,EAAEM,OAAlB;AAA2BL,IAAAA,MAAM,EAAEA;AAAnC,GAAT;AACA,SAAOQ,CAAP;AACH,CARM;AASP;AACA;AACA;;AACA,OAAO,IAAIC,QAAQ,GAAG9B,IAAf;AACP;AACA;AACA;;AACA,OAAO,IAAI+B,OAAO,GAAG,SAAVA,OAAU,CAAUC,KAAV,EAAiBC,OAAjB,EAA0BC,OAA1B,EAAmC;AACpD,SAAOJ,QAAQ,CAAC,CAAC;AAAEE,IAAAA,KAAK,EAAEA,KAAT;AAAgBC,IAAAA,OAAO,EAAEA,OAAzB;AAAkCC,IAAAA,OAAO,EAAEA;AAA3C,GAAD,CAAD,CAAf;AACH,CAFM;AAGP;AACA;AACA;;AACA,OAAO,IAAIC,OAAO,GAAGlC,KAAd;;AACP,IAAImC,OAAO,GAAG,SAAVA,OAAU,CAAUC,EAAV,EAAcC,EAAd,EAAkB;AAC5B,MAAIC,CAAC,GAAGD,EAAE,CAAC3C,MAAX;;AACA,OAAK,IAAIH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+C,CAApB,EAAuB/C,CAAC,EAAxB,EAA4B;AACxB6C,IAAAA,EAAE,CAACG,IAAH,CAAQF,EAAE,CAAC9C,CAAD,CAAV;AACH;AACJ,CALD;;AAMA,IAAIiD,UAAU,GAAG,SAAbA,UAAa,CAAUC,GAAV,EAAe;AAAE,SAAO,UAAUC,KAAV,EAAiB;AAAE,WAAOA,KAAK,CAACC,IAAN,KAAeF,GAAtB;AAA4B,GAAtD;AAAyD,CAA3F;;AACA,IAAIG,cAAc,GAAGJ,UAAU,CAAC,aAAD,CAA/B,C,CACA;;AACA,IAAIK,UAAU,GAAGL,UAAU,CAAC,SAAD,CAA3B;AACA,IAAIM,gBAAgB,GAAGN,UAAU,CAAC,eAAD,CAAjC;AACA,IAAIO,cAAc,GAAGP,UAAU,CAAC,aAAD,CAA/B,C,CACA;AACA;AACA;;AACA;AACA;AACA;;AACA,IAAIQ,QAAQ;AAAG;AAAe,UAAUC,MAAV,EAAkB;AAC5C5E,EAAAA,SAAS,CAAC2E,QAAD,EAAWC,MAAX,CAAT;;AACA,WAASD,QAAT,GAAoB;AAChB,QAAIpC,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkB,MAAlB,EAA0B,UAAUuD,CAAV,EAAa;AAAE,aAAOA,CAAC,KAAK,IAAb;AAAoB,KAA7D,EAA+D,UAAUA,CAAV,EAAarC,CAAb,EAAgB;AAAE,aAAQD,KAAK,CAACP,EAAN,CAAS6C,CAAT,IAAchB,OAAO,CAACgB,CAAD,CAArB,GAA2BpB,OAAO,CAACoB,CAAD,EAAIrC,CAAJ,CAA1C;AAAoD,KAArI,EAAuIE,QAAvI,KAAoJ,IAAhK;;AACAH,IAAAA,KAAK,CAAC+B,IAAN,GAAa,UAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAOoC,QAAP;AACH,CAR6B,CAQ5B7C,IAR4B,CAA9B;;AASA,SAAS6C,QAAT;AACA;AACA;AACA;;AACA,OAAO,IAAIG,QAAQ,GAAG,IAAIH,QAAJ,EAAf;AACP;AACA;AACA;;AACA,IAAII,aAAa;AAAG;AAAe,UAAUH,MAAV,EAAkB;AACjD5E,EAAAA,SAAS,CAAC+E,aAAD,EAAgBH,MAAhB,CAAT;;AACA,WAASG,aAAT,GAAyB;AACrB,QAAIxC,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkB,WAAlB,EAA+B,UAAUuD,CAAV,EAAa;AAAE,aAAOA,CAAC,KAAK,KAAK,CAAlB;AAAsB,KAApE,EAAsE,UAAUA,CAAV,EAAarC,CAAb,EAAgB;AAAE,aAAQD,KAAK,CAACP,EAAN,CAAS6C,CAAT,IAAchB,OAAO,CAACgB,CAAD,CAArB,GAA2BpB,OAAO,CAACoB,CAAD,EAAIrC,CAAJ,CAA1C;AAAoD,KAA5I,EAA8IE,QAA9I,KAA2J,IAAvK;;AACAH,IAAAA,KAAK,CAAC+B,IAAN,GAAa,eAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAOwC,aAAP;AACH,CARkC,CAQjCjD,IARiC,CAAnC;;AASA,SAASiD,aAAT;AACA,IAAIC,aAAa,GAAG,IAAID,aAAJ,EAApB;AACA;AACA;AACA;;AACA,IAAIE,QAAQ;AAAG;AAAe,UAAUL,MAAV,EAAkB;AAC5C5E,EAAAA,SAAS,CAACiF,QAAD,EAAWL,MAAX,CAAT;;AACA,WAASK,QAAT,GAAoB;AAChB,QAAI1C,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkB,MAAlB,EAA0B0D,aAAa,CAAChD,EAAxC,EAA4CgD,aAAa,CAAC/C,QAA1D,EAAoES,QAApE,KAAiF,IAA7F;;AACAH,IAAAA,KAAK,CAAC+B,IAAN,GAAa,UAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAO0C,QAAP;AACH,CAR6B,CAQ5BnD,IAR4B,CAA9B;;AASA,SAASmD,QAAT;AACA;AACA;AACA;;AACA,OAAO,IAAIC,QAAQ,GAAG,IAAID,QAAJ,EAAf;AACP;AACA;AACA;;AACA,IAAIE,WAAW;AAAG;AAAe,UAAUP,MAAV,EAAkB;AAC/C5E,EAAAA,SAAS,CAACmF,WAAD,EAAcP,MAAd,CAAT;;AACA,WAASO,WAAT,GAAuB;AACnB,QAAI5C,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkB,SAAlB,EAA6B,UAAU8D,CAAV,EAAa;AAAE,aAAO,IAAP;AAAc,KAA1D,EAA4DvB,OAA5D,EAAqEnB,QAArE,KAAkF,IAA9F;;AACAH,IAAAA,KAAK,CAAC+B,IAAN,GAAa,aAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAO4C,WAAP;AACH,CARgC,CAQ/BrD,IAR+B,CAAjC;;AASA,SAASqD,WAAT;AACA;AACA;AACA;;AACA,OAAO,IAAIE,OAAO,GAAG,IAAIF,WAAJ,EAAd;AACP;AACA;AACA;;AACA,IAAIG,UAAU;AAAG;AAAe,UAAUV,MAAV,EAAkB;AAC9C5E,EAAAA,SAAS,CAACsF,UAAD,EAAaV,MAAb,CAAT;;AACA,WAASU,UAAT,GAAsB;AAClB,QAAI/C,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkB,QAAlB,EAA4B,UAAUuD,CAAV,EAAa;AAAE,aAAO,OAAOA,CAAP,KAAa,QAApB;AAA+B,KAA1E,EAA4E,UAAUA,CAAV,EAAarC,CAAb,EAAgB;AAAE,aAAQD,KAAK,CAACP,EAAN,CAAS6C,CAAT,IAAchB,OAAO,CAACgB,CAAD,CAArB,GAA2BpB,OAAO,CAACoB,CAAD,EAAIrC,CAAJ,CAA1C;AAAoD,KAAlJ,EAAoJE,QAApJ,KAAiK,IAA7K;;AACAH,IAAAA,KAAK,CAAC+B,IAAN,GAAa,YAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAO+C,UAAP;AACH,CAR+B,CAQ9BxD,IAR8B,CAAhC;;AASA,SAASwD,UAAT;AACA;AACA;AACA;;AACA,OAAO,IAAIC,MAAM,GAAG,IAAID,UAAJ,EAAb;AACP;AACA;AACA;;AACA,IAAIE,UAAU;AAAG;AAAe,UAAUZ,MAAV,EAAkB;AAC9C5E,EAAAA,SAAS,CAACwF,UAAD,EAAaZ,MAAb,CAAT;;AACA,WAASY,UAAT,GAAsB;AAClB,QAAIjD,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkB,QAAlB,EAA4B,UAAUuD,CAAV,EAAa;AAAE,aAAO,OAAOA,CAAP,KAAa,QAApB;AAA+B,KAA1E,EAA4E,UAAUA,CAAV,EAAarC,CAAb,EAAgB;AAAE,aAAQD,KAAK,CAACP,EAAN,CAAS6C,CAAT,IAAchB,OAAO,CAACgB,CAAD,CAArB,GAA2BpB,OAAO,CAACoB,CAAD,EAAIrC,CAAJ,CAA1C;AAAoD,KAAlJ,EAAoJE,QAApJ,KAAiK,IAA7K;;AACAH,IAAAA,KAAK,CAAC+B,IAAN,GAAa,YAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAOiD,UAAP;AACH,CAR+B,CAQ9B1D,IAR8B,CAAhC;;AASA,SAAS0D,UAAT;AACA;AACA;AACA;;AACA,OAAO,IAAIC,MAAM,GAAG,IAAID,UAAJ,EAAb;AACP;AACA;AACA;;AACA,IAAIE,WAAW;AAAG;AAAe,UAAUd,MAAV,EAAkB;AAC/C5E,EAAAA,SAAS,CAAC0F,WAAD,EAAcd,MAAd,CAAT;;AACA,WAASc,WAAT,GAAuB;AACnB,QAAInD,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkB,SAAlB,EAA6B,UAAUuD,CAAV,EAAa;AAAE,aAAO,OAAOA,CAAP,KAAa,SAApB;AAAgC,KAA5E,EAA8E,UAAUA,CAAV,EAAarC,CAAb,EAAgB;AAAE,aAAQD,KAAK,CAACP,EAAN,CAAS6C,CAAT,IAAchB,OAAO,CAACgB,CAAD,CAArB,GAA2BpB,OAAO,CAACoB,CAAD,EAAIrC,CAAJ,CAA1C;AAAoD,KAApJ,EAAsJE,QAAtJ,KAAmK,IAA/K;;AACAH,IAAAA,KAAK,CAAC+B,IAAN,GAAa,aAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAOmD,WAAP;AACH,CARgC,CAQ/B5D,IAR+B,CAAjC;;AASA,SAAS4D,WAAT;AACA;AACA;AACA;;AACA,OAAO,IAAIC,OAAO,GAAG,IAAID,WAAJ,EAAd;AACP;AACA;AACA;;AACA,IAAIE,YAAY;AAAG;AAAe,UAAUhB,MAAV,EAAkB;AAChD5E,EAAAA,SAAS,CAAC4F,YAAD,EAAehB,MAAf,CAAT;;AACA,WAASgB,YAAT,GAAwB;AACpB,QAAIrD,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkB,cAAlB,EAAkCf,KAAK,CAACsF,OAAxC,EAAiD,UAAUhB,CAAV,EAAarC,CAAb,EAAgB;AAAE,aAAQD,KAAK,CAACP,EAAN,CAAS6C,CAAT,IAAchB,OAAO,CAACgB,CAAD,CAArB,GAA2BpB,OAAO,CAACoB,CAAD,EAAIrC,CAAJ,CAA1C;AAAoD,KAAvH,EAAyHE,QAAzH,KAAsI,IAAlJ;;AACAH,IAAAA,KAAK,CAAC+B,IAAN,GAAa,cAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAOqD,YAAP;AACH,CARiC,CAQhC9D,IARgC,CAAlC;;AASA,SAAS8D,YAAT;AACA;AACA;AACA;;AACA,OAAO,IAAIE,YAAY,GAAG,IAAIF,YAAJ,EAAnB;AACP;AACA;AACA;;AACA,IAAIG,iBAAiB;AAAG;AAAe,UAAUnB,MAAV,EAAkB;AACrD5E,EAAAA,SAAS,CAAC+F,iBAAD,EAAoBnB,MAApB,CAAT;;AACA,WAASmB,iBAAT,GAA6B;AACzB,QAAIxD,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkB,eAAlB,EAAmC,UAAUuD,CAAV,EAAa;AAAE,aAAOA,CAAC,KAAK,IAAN,IAAc,OAAOA,CAAP,KAAa,QAAlC;AAA6C,KAA/F,EAAiG,UAAUA,CAAV,EAAarC,CAAb,EAAgB;AAAE,aAAQD,KAAK,CAACP,EAAN,CAAS6C,CAAT,IAAchB,OAAO,CAACgB,CAAD,CAArB,GAA2BpB,OAAO,CAACoB,CAAD,EAAIrC,CAAJ,CAA1C;AAAoD,KAAvK,EAAyKE,QAAzK,KAAsL,IAAlM;;AACAH,IAAAA,KAAK,CAAC+B,IAAN,GAAa,mBAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAOwD,iBAAP;AACH,CARsC,CAQrCjE,IARqC,CAAvC;;AASA,SAASiE,iBAAT;AACA;AACA;AACA;;AACA,OAAO,IAAIC,aAAa,GAAG,IAAID,iBAAJ,EAApB;AACP;AACA;AACA;AACA;;AACA,IAAIE,YAAY;AAAG;AAAe,UAAUrB,MAAV,EAAkB;AAChD5E,EAAAA,SAAS,CAACiG,YAAD,EAAerB,MAAf,CAAT;;AACA,WAASqB,YAAT,GAAwB;AACpB,QAAI1D,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkB,UAAlB,EACZ;AACA,cAAUuD,CAAV,EAAa;AAAE,aAAO,OAAOA,CAAP,KAAa,UAApB;AAAiC,KAFpC,EAEsC,UAAUA,CAAV,EAAarC,CAAb,EAAgB;AAAE,aAAQD,KAAK,CAACP,EAAN,CAAS6C,CAAT,IAAchB,OAAO,CAACgB,CAAD,CAArB,GAA2BpB,OAAO,CAACoB,CAAD,EAAIrC,CAAJ,CAA1C;AAAoD,KAF5G,EAE8GE,QAF9G,KAE2H,IAFvI;;AAGAH,IAAAA,KAAK,CAAC+B,IAAN,GAAa,cAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAO0D,YAAP;AACH,CAViC,CAUhCnE,IAVgC,CAAlC;;AAWA,SAASmE,YAAT;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIC,QAAQ,GAAG,IAAID,YAAJ,EAAf;AACP;AACA;AACA;;AACA,IAAIE,cAAc;AAAG;AAAe,UAAUvB,MAAV,EAAkB;AAClD5E,EAAAA,SAAS,CAACmG,cAAD,EAAiBvB,MAAjB,CAAT;;AACA,WAASuB,cAAT,CAAwBpE,IAAxB,EAA8BC,EAA9B,EAAkCC,QAAlC,EAA4CC,MAA5C,EAAoDY,IAApD,EAA0DsD,SAA1D,EAAqE;AACjE,QAAI7D,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkBS,IAAlB,EAAwBC,EAAxB,EAA4BC,QAA5B,EAAsCC,MAAtC,KAAiD,IAA7D;;AACAK,IAAAA,KAAK,CAACO,IAAN,GAAaA,IAAb;AACAP,IAAAA,KAAK,CAAC6D,SAAN,GAAkBA,SAAlB;AACA7D,IAAAA,KAAK,CAAC+B,IAAN,GAAa,gBAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAO4D,cAAP;AACH,CAVmC,CAUlCrE,IAVkC,CAApC;;AAWA,SAASqE,cAAT;AACA;AACA;AACA;;AACA,OAAO,IAAIE,KAAK,GAAG,SAARA,KAAQ,CAAUhC,KAAV,EAAiB+B,SAAjB,EAA4BrE,IAA5B,EAAkC;AACjD;AACA,SAAOuE,UAAU,CAACjC,KAAD,EAAQ+B,SAAR,EAAmBrE,IAAnB,CAAjB;AACH,CAHM;AAIP;AACA;AACA;AACA;;AACA,OAAO,IAAIwE,GAAG,GAAGF,KAAK,CAACZ,MAAD,EAAS,UAAUtE,CAAV,EAAa;AAAE,SAAOqF,MAAM,CAACC,SAAP,CAAiBtF,CAAjB,CAAP;AAA6B,CAArD,EAAuD,KAAvD,CAAf;AACP;AACA;AACA;;AACA,IAAIuF,WAAW;AAAG;AAAe,UAAU9B,MAAV,EAAkB;AAC/C5E,EAAAA,SAAS,CAAC0G,WAAD,EAAc9B,MAAd,CAAT;;AACA,WAAS8B,WAAT,CAAqB3E,IAArB,EAA2BC,EAA3B,EAA+BC,QAA/B,EAAyCC,MAAzC,EAAiDwB,KAAjD,EAAwD;AACpD,QAAInB,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkBS,IAAlB,EAAwBC,EAAxB,EAA4BC,QAA5B,EAAsCC,MAAtC,KAAiD,IAA7D;;AACAK,IAAAA,KAAK,CAACmB,KAAN,GAAcA,KAAd;AACAnB,IAAAA,KAAK,CAAC+B,IAAN,GAAa,aAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAOmE,WAAP;AACH,CATgC,CAS/B5E,IAT+B,CAAjC;;AAUA,SAAS4E,WAAT;AACA;AACA;AACA;;AACA,OAAO,IAAIC,OAAO,GAAG,SAAVA,OAAU,CAAUjD,KAAV,EAAiB3B,IAAjB,EAAuB;AACxC,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAEA,IAAAA,IAAI,GAAG6E,IAAI,CAACC,SAAL,CAAenD,KAAf,CAAP;AAA+B;;AACtD,MAAI1B,EAAE,GAAG,SAALA,EAAK,CAAU6C,CAAV,EAAa;AAAE,WAAOA,CAAC,KAAKnB,KAAb;AAAqB,GAA7C;;AACA,SAAO,IAAIgD,WAAJ,CAAgB3E,IAAhB,EAAsBC,EAAtB,EAA0B,UAAU6C,CAAV,EAAarC,CAAb,EAAgB;AAAE,WAAQR,EAAE,CAAC6C,CAAD,CAAF,GAAQhB,OAAO,CAACH,KAAD,CAAf,GAAyBD,OAAO,CAACoB,CAAD,EAAIrC,CAAJ,CAAxC;AAAkD,GAA9F,EAAgGE,QAAhG,EAA0GgB,KAA1G,CAAP;AACH,CAJM;AAKP;AACA;AACA;;AACA,IAAIoD,SAAS;AAAG;AAAe,UAAUlC,MAAV,EAAkB;AAC7C5E,EAAAA,SAAS,CAAC8G,SAAD,EAAYlC,MAAZ,CAAT;;AACA,WAASkC,SAAT,CAAmB/E,IAAnB,EAAyBC,EAAzB,EAA6BC,QAA7B,EAAuCC,MAAvC,EAA+C6E,IAA/C,EAAqD;AACjD,QAAIxE,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkBS,IAAlB,EAAwBC,EAAxB,EAA4BC,QAA5B,EAAsCC,MAAtC,KAAiD,IAA7D;;AACAK,IAAAA,KAAK,CAACwE,IAAN,GAAaA,IAAb;AACAxE,IAAAA,KAAK,CAAC+B,IAAN,GAAa,WAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAOuE,SAAP;AACH,CAT8B,CAS7BhF,IAT6B,CAA/B;;AAUA,SAASgF,SAAT;AACA,IAAIrG,cAAc,GAAGL,MAAM,CAACQ,SAAP,CAAiBH,cAAtC;AACA;AACA;AACA;;AACA,OAAO,IAAIuG,KAAK,GAAG,SAARA,KAAQ,CAAUD,IAAV,EAAgBhF,IAAhB,EAAsB;AACrC,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAEA,IAAAA,IAAI,GAAG3B,MAAM,CAAC2G,IAAP,CAAYA,IAAZ,EACzBnF,GADyB,CACrB,UAAUqF,CAAV,EAAa;AAAE,aAAOL,IAAI,CAACC,SAAL,CAAeI,CAAf,CAAP;AAA2B,KADrB,EAEzBC,IAFyB,CAEpB,KAFoB,CAAP;AAEJ;;AACnB,MAAIlF,EAAE,GAAG,SAALA,EAAK,CAAU6C,CAAV,EAAa;AAAE,WAAOU,MAAM,CAACvD,EAAP,CAAU6C,CAAV,KAAgBpE,cAAc,CAACa,IAAf,CAAoByF,IAApB,EAA0BlC,CAA1B,CAAvB;AAAsD,GAA9E;;AACA,SAAO,IAAIiC,SAAJ,CAAc/E,IAAd,EAAoBC,EAApB,EAAwB,UAAU6C,CAAV,EAAarC,CAAb,EAAgB;AAAE,WAAQR,EAAE,CAAC6C,CAAD,CAAF,GAAQhB,OAAO,CAACgB,CAAD,CAAf,GAAqBpB,OAAO,CAACoB,CAAD,EAAIrC,CAAJ,CAApC;AAA8C,GAAxF,EAA0FE,QAA1F,EAAoGqE,IAApG,CAAP;AACH,CANM;AAOP;AACA;AACA;;AACA,IAAII,aAAa;AAAG;AAAe,UAAUvC,MAAV,EAAkB;AACjD5E,EAAAA,SAAS,CAACmH,aAAD,EAAgBvC,MAAhB,CAAT;;AACA,WAASuC,aAAT,CAAuBpF,IAAvB,EAA6BC,EAA7B,EAAiCC,QAAjC,EAA2CC,MAA3C,EAAmDkF,aAAnD,EAAkE;AAC9D,QAAI7E,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkBS,IAAlB,EAAwBC,EAAxB,EAA4BC,QAA5B,EAAsCC,MAAtC,KAAiD,IAA7D;;AACAK,IAAAA,KAAK,CAAC6E,aAAN,GAAsBA,aAAtB;AACA7E,IAAAA,KAAK,CAAC+B,IAAN,GAAa,eAAb;AACA,WAAO/B,KAAP;AACH;;AACDnC,EAAAA,MAAM,CAACiH,cAAP,CAAsBF,aAAa,CAACvG,SAApC,EAA+C,MAA/C,EAAuD;AACnD0G,IAAAA,GAAG,EAAE,eAAY;AACb,aAAO,KAAKF,aAAL,EAAP;AACH,KAHkD;AAInDG,IAAAA,UAAU,EAAE,IAJuC;AAKnDC,IAAAA,YAAY,EAAE;AALqC,GAAvD;AAOA,SAAOL,aAAP;AACH,CAhBkC,CAgBjCrF,IAhBiC,CAAnC;;AAiBA,SAASqF,aAAT;AACA;AACA;AACA;;AACA,OAAO,IAAIM,SAAS,GAAG,SAAZA,SAAY,CAAU1F,IAAV,EAAgB2F,UAAhB,EAA4B;AAC/C,MAAIC,KAAJ;;AACA,MAAIP,aAAa,GAAG,SAAhBA,aAAgB,GAAY;AAC5B,QAAI,CAACO,KAAL,EAAY;AACRA,MAAAA,KAAK,GAAGD,UAAU,CAACE,IAAD,CAAlB;AACAD,MAAAA,KAAK,CAAC5F,IAAN,GAAaA,IAAb;AACH;;AACD,WAAO4F,KAAP;AACH,GAND;;AAOA,MAAIC,IAAI,GAAG,IAAIT,aAAJ,CAAkBpF,IAAlB,EAAwB,UAAU8C,CAAV,EAAa;AAAE,WAAOuC,aAAa,GAAGpF,EAAhB,CAAmB6C,CAAnB,CAAP;AAA+B,GAAtE,EAAwE,UAAUA,CAAV,EAAarC,CAAb,EAAgB;AAAE,WAAO4E,aAAa,GAAGnF,QAAhB,CAAyB4C,CAAzB,EAA4BrC,CAA5B,CAAP;AAAwC,GAAlI,EAAoI,UAAUC,CAAV,EAAa;AAAE,WAAO2E,aAAa,GAAGlF,MAAhB,CAAuBO,CAAvB,CAAP;AAAmC,GAAtL,EAAwL2E,aAAxL,CAAX;AACA,SAAOQ,IAAP;AACH,CAXM;AAYP;AACA;AACA;;AACA,IAAIC,SAAS;AAAG;AAAe,UAAUjD,MAAV,EAAkB;AAC7C5E,EAAAA,SAAS,CAAC6H,SAAD,EAAYjD,MAAZ,CAAT;;AACA,WAASiD,SAAT,CAAmB9F,IAAnB,EAAyBC,EAAzB,EAA6BC,QAA7B,EAAuCC,MAAvC,EAA+CY,IAA/C,EAAqD;AACjD,QAAIP,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkBS,IAAlB,EAAwBC,EAAxB,EAA4BC,QAA5B,EAAsCC,MAAtC,KAAiD,IAA7D;;AACAK,IAAAA,KAAK,CAACO,IAAN,GAAaA,IAAb;AACAP,IAAAA,KAAK,CAAC+B,IAAN,GAAa,WAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAOsF,SAAP;AACH,CAT8B,CAS7B/F,IAT6B,CAA/B;;AAUA,SAAS+F,SAAT;AACA;AACA;AACA;;AACA,OAAO,IAAIC,KAAK,GAAG,SAARA,KAAQ,CAAUzD,KAAV,EAAiBtC,IAAjB,EAAuB;AACtC,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAEA,IAAAA,IAAI,GAAG,WAAWsC,KAAK,CAACtC,IAAjB,GAAwB,GAA/B;AAAqC;;AAC5D,SAAO,IAAI8F,SAAJ,CAAc9F,IAAd,EAAoB,UAAU8C,CAAV,EAAa;AAAE,WAAOiB,YAAY,CAAC9D,EAAb,CAAgB6C,CAAhB,KAAsBA,CAAC,CAACkD,KAAF,CAAQ1D,KAAK,CAACrC,EAAd,CAA7B;AAAiD,GAApF,EAAsF,UAAU6C,CAAV,EAAarC,CAAb,EAAgB;AACzG,WAAOX,KAAK,CAACiE,YAAY,CAAC7D,QAAb,CAAsB4C,CAAtB,EAAyBrC,CAAzB,CAAD,EAA8B,UAAUwF,EAAV,EAAc;AACpD,UAAI1E,GAAG,GAAG0E,EAAE,CAAC3G,MAAb;AACA,UAAI4G,EAAE,GAAGD,EAAT;AACA,UAAIE,MAAM,GAAG,EAAb;;AACA,WAAK,IAAIhH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoC,GAApB,EAAyBpC,CAAC,EAA1B,EAA8B;AAC1B,YAAIiH,EAAE,GAAGH,EAAE,CAAC9G,CAAD,CAAX;AACA,YAAIkH,MAAM,GAAG/D,KAAK,CAACpC,QAAN,CAAekG,EAAf,EAAmB9E,aAAa,CAACb,CAAD,EAAI6F,MAAM,CAACnH,CAAD,CAAV,EAAemD,KAAf,EAAsB8D,EAAtB,CAAhC,CAAb;;AACA,YAAI1G,MAAM,CAAC2G,MAAD,CAAV,EAAoB;AAChBtE,UAAAA,OAAO,CAACoE,MAAD,EAASE,MAAM,CAAC1G,IAAhB,CAAP;AACH,SAFD,MAGK;AACD,cAAI4G,EAAE,GAAGF,MAAM,CAACzG,KAAhB;;AACA,cAAI2G,EAAE,KAAKH,EAAX,EAAe;AACX,gBAAIF,EAAE,KAAKD,EAAX,EAAe;AACXC,cAAAA,EAAE,GAAGD,EAAE,CAACO,KAAH,EAAL;AACH;;AACDN,YAAAA,EAAE,CAAC/G,CAAD,CAAF,GAAQoH,EAAR;AACH;AACJ;AACJ;;AACD,aAAOJ,MAAM,CAAC7G,MAAP,GAAgB,CAAhB,GAAoBmC,QAAQ,CAAC0E,MAAD,CAA5B,GAAuCrE,OAAO,CAACoE,EAAD,CAArD;AACH,KArBW,CAAZ;AAsBH,GAvBM,EAuBJ5D,KAAK,CAACnC,MAAN,KAAiBQ,QAAjB,GAA4BA,QAA5B,GAAuC,UAAUD,CAAV,EAAa;AAAE,WAAOA,CAAC,CAACb,GAAF,CAAMyC,KAAK,CAACnC,MAAZ,CAAP;AAA6B,GAvB/E,EAuBiFmC,KAvBjF,CAAP;AAwBH,CA1BM;AA2BP;AACA;AACA;;AACA,IAAImE,aAAa;AAAG;AAAe,UAAU5D,MAAV,EAAkB;AACjD5E,EAAAA,SAAS,CAACwI,aAAD,EAAgB5D,MAAhB,CAAT;;AACA,WAAS4D,aAAT,CAAuBzG,IAAvB,EAA6BC,EAA7B,EAAiCC,QAAjC,EAA2CC,MAA3C,EAAmDuG,KAAnD,EAA0D;AACtD,QAAIlG,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkBS,IAAlB,EAAwBC,EAAxB,EAA4BC,QAA5B,EAAsCC,MAAtC,KAAiD,IAA7D;;AACAK,IAAAA,KAAK,CAACkG,KAAN,GAAcA,KAAd;AACAlG,IAAAA,KAAK,CAAC+B,IAAN,GAAa,eAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAOiG,aAAP;AACH,CATkC,CASjC1G,IATiC,CAAnC;;AAUA,SAAS0G,aAAT;;AACA,IAAIE,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAUD,KAAV,EAAiB;AACpC,SAAOrI,MAAM,CAAC2G,IAAP,CAAY0B,KAAZ,EACF7G,GADE,CACE,UAAUqF,CAAV,EAAa;AAAE,WAAOA,CAAC,GAAG,IAAJ,GAAWwB,KAAK,CAACxB,CAAD,CAAL,CAASlF,IAA3B;AAAkC,GADnD,EAEFmF,IAFE,CAEG,IAFH,CAAP;AAGH,CAJD;;AAKA,IAAIyB,WAAW,GAAG,SAAdA,WAAc,CAAUC,MAAV,EAAkB;AAChC,OAAK,IAAI1H,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0H,MAAM,CAACvH,MAA3B,EAAmCH,CAAC,EAApC,EAAwC;AACpC,QAAI0H,MAAM,CAAC1H,CAAD,CAAN,CAAUgB,MAAV,KAAqBQ,QAAzB,EAAmC;AAC/B,aAAO,KAAP;AACH;AACJ;;AACD,SAAO,IAAP;AACH,CAPD;;AAQA,IAAImG,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAUJ,KAAV,EAAiB;AACxC,SAAO,OAAOC,gBAAgB,CAACD,KAAD,CAAvB,GAAiC,IAAxC;AACH,CAFD;AAGA;AACA;AACA;;;AACA,OAAO,IAAI3F,IAAI,GAAG,SAAPA,IAAO,CAAU2F,KAAV,EAAiB1G,IAAjB,EAAuB;AACrC,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAEA,IAAAA,IAAI,GAAG8G,oBAAoB,CAACJ,KAAD,CAA3B;AAAqC;;AAC5D,MAAI1B,IAAI,GAAG3G,MAAM,CAAC2G,IAAP,CAAY0B,KAAZ,CAAX;AACA,MAAIK,KAAK,GAAG/B,IAAI,CAACnF,GAAL,CAAS,UAAUiB,GAAV,EAAe;AAAE,WAAO4F,KAAK,CAAC5F,GAAD,CAAZ;AAAoB,GAA9C,CAAZ;AACA,MAAIS,GAAG,GAAGyD,IAAI,CAAC1F,MAAf;AACA,SAAO,IAAImH,aAAJ,CAAkBzG,IAAlB,EAAwB,UAAU8C,CAAV,EAAa;AACxC,QAAI,CAACmB,aAAa,CAAChE,EAAd,CAAiB6C,CAAjB,CAAL,EAA0B;AACtB,aAAO,KAAP;AACH;;AACD,SAAK,IAAI3D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoC,GAApB,EAAyBpC,CAAC,EAA1B,EAA8B;AAC1B,UAAI+F,CAAC,GAAGF,IAAI,CAAC7F,CAAD,CAAZ;;AACA,UAAI,CAACT,cAAc,CAACa,IAAf,CAAoBuD,CAApB,EAAuBoC,CAAvB,CAAD,IAA8B,CAAC6B,KAAK,CAAC5H,CAAD,CAAL,CAASc,EAAT,CAAY6C,CAAC,CAACoC,CAAD,CAAb,CAAnC,EAAsD;AAClD,eAAO,KAAP;AACH;AACJ;;AACD,WAAO,IAAP;AACH,GAXM,EAWJ,UAAUpC,CAAV,EAAarC,CAAb,EAAgB;AACf,WAAOX,KAAK,CAACmE,aAAa,CAAC/D,QAAd,CAAuB4C,CAAvB,EAA0BrC,CAA1B,CAAD,EAA+B,UAAUuG,CAAV,EAAa;AACpD,UAAItG,CAAC,GAAGsG,CAAR;AACA,UAAIb,MAAM,GAAG,EAAb;;AACA,WAAK,IAAIhH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoC,GAApB,EAAyBpC,CAAC,EAA1B,EAA8B;AAC1B,YAAI+F,CAAC,GAAGF,IAAI,CAAC7F,CAAD,CAAZ;;AACA,YAAI,CAACT,cAAc,CAACa,IAAf,CAAoBmB,CAApB,EAAuBwE,CAAvB,CAAL,EAAgC;AAC5B,cAAIxE,CAAC,KAAKsG,CAAV,EAAa;AACTtG,YAAAA,CAAC,GAAG3B,QAAQ,CAAC,EAAD,EAAKiI,CAAL,CAAZ;AACH;;AACDtG,UAAAA,CAAC,CAACwE,CAAD,CAAD,GAAOxE,CAAC,CAACwE,CAAD,CAAR;AACH;;AACD,YAAI+B,EAAE,GAAGvG,CAAC,CAACwE,CAAD,CAAV;AACA,YAAIgC,MAAM,GAAGH,KAAK,CAAC5H,CAAD,CAAlB;AACA,YAAIkH,MAAM,GAAGa,MAAM,CAAChH,QAAP,CAAgB+G,EAAhB,EAAoB3F,aAAa,CAACb,CAAD,EAAIyE,CAAJ,EAAOgC,MAAP,EAAeD,EAAf,CAAjC,CAAb;;AACA,YAAIvH,MAAM,CAAC2G,MAAD,CAAV,EAAoB;AAChBtE,UAAAA,OAAO,CAACoE,MAAD,EAASE,MAAM,CAAC1G,IAAhB,CAAP;AACH,SAFD,MAGK;AACD,cAAIwH,GAAG,GAAGd,MAAM,CAACzG,KAAjB;;AACA,cAAIuH,GAAG,KAAKF,EAAZ,EAAgB;AACZ;AACA,gBAAIvG,CAAC,KAAKsG,CAAV,EAAa;AACTtG,cAAAA,CAAC,GAAG3B,QAAQ,CAAC,EAAD,EAAKiI,CAAL,CAAZ;AACH;;AACDtG,YAAAA,CAAC,CAACwE,CAAD,CAAD,GAAOiC,GAAP;AACH;AACJ;AACJ;;AACD,aAAOhB,MAAM,CAAC7G,MAAP,GAAgB,CAAhB,GAAoBmC,QAAQ,CAAC0E,MAAD,CAA5B,GAAuCrE,OAAO,CAACpB,CAAD,CAArD;AACH,KA7BW,CAAZ;AA8BH,GA1CM,EA0CJkG,WAAW,CAACG,KAAD,CAAX,GACGpG,QADH,GAEG,UAAUD,CAAV,EAAa;AACX,QAAIxB,CAAC,GAAGH,QAAQ,CAAC,EAAD,EAAK2B,CAAL,CAAhB;;AACA,SAAK,IAAIvB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoC,GAApB,EAAyBpC,CAAC,EAA1B,EAA8B;AAC1B,UAAI+F,CAAC,GAAGF,IAAI,CAAC7F,CAAD,CAAZ;AACA,UAAIgB,MAAM,GAAG4G,KAAK,CAAC5H,CAAD,CAAL,CAASgB,MAAtB;;AACA,UAAIA,MAAM,KAAKQ,QAAf,EAAyB;AACrBzB,QAAAA,CAAC,CAACgG,CAAD,CAAD,GAAO/E,MAAM,CAACO,CAAC,CAACwE,CAAD,CAAF,CAAb;AACH;AACJ;;AACD,WAAOhG,CAAP;AACH,GAtDE,EAsDAwH,KAtDA,CAAP;AAuDH,CA5DM;AA6DP;AACA;AACA;;AACA,IAAIU,WAAW;AAAG;AAAe,UAAUvE,MAAV,EAAkB;AAC/C5E,EAAAA,SAAS,CAACmJ,WAAD,EAAcvE,MAAd,CAAT;;AACA,WAASuE,WAAT,CAAqBpH,IAArB,EAA2BC,EAA3B,EAA+BC,QAA/B,EAAyCC,MAAzC,EAAiDuG,KAAjD,EAAwD;AACpD,QAAIlG,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkBS,IAAlB,EAAwBC,EAAxB,EAA4BC,QAA5B,EAAsCC,MAAtC,KAAiD,IAA7D;;AACAK,IAAAA,KAAK,CAACkG,KAAN,GAAcA,KAAd;AACAlG,IAAAA,KAAK,CAAC+B,IAAN,GAAa,aAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAO4G,WAAP;AACH,CATgC,CAS/BrH,IAT+B,CAAjC;;AAUA,SAASqH,WAAT;;AACA,IAAIC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAUC,KAAV,EAAiB;AACtC,SAAO,aAAaA,KAAb,GAAqB,GAA5B;AACH,CAFD;AAGA;AACA;AACA;;;AACA,OAAO,IAAIC,OAAO,GAAG,SAAVA,OAAU,CAAUb,KAAV,EAAiB1G,IAAjB,EAAuB;AACxC,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAEA,IAAAA,IAAI,GAAGqH,kBAAkB,CAACP,oBAAoB,CAACJ,KAAD,CAArB,CAAzB;AAAyD;;AAChF,MAAI1B,IAAI,GAAG3G,MAAM,CAAC2G,IAAP,CAAY0B,KAAZ,CAAX;AACA,MAAIK,KAAK,GAAG/B,IAAI,CAACnF,GAAL,CAAS,UAAUiB,GAAV,EAAe;AAAE,WAAO4F,KAAK,CAAC5F,GAAD,CAAZ;AAAoB,GAA9C,CAAZ;AACA,MAAIS,GAAG,GAAGyD,IAAI,CAAC1F,MAAf;AACA,SAAO,IAAI8H,WAAJ,CAAgBpH,IAAhB,EAAsB,UAAU8C,CAAV,EAAa;AACtC,QAAI,CAACmB,aAAa,CAAChE,EAAd,CAAiB6C,CAAjB,CAAL,EAA0B;AACtB,aAAO,KAAP;AACH;;AACD,SAAK,IAAI3D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoC,GAApB,EAAyBpC,CAAC,EAA1B,EAA8B;AAC1B,UAAI+F,CAAC,GAAGF,IAAI,CAAC7F,CAAD,CAAZ;AACA,UAAIqI,EAAE,GAAG1E,CAAC,CAACoC,CAAD,CAAV;;AACA,UAAIsC,EAAE,KAAKC,SAAP,IAAoB,CAACf,KAAK,CAACxB,CAAD,CAAL,CAASjF,EAAT,CAAYuH,EAAZ,CAAzB,EAA0C;AACtC,eAAO,KAAP;AACH;AACJ;;AACD,WAAO,IAAP;AACH,GAZM,EAYJ,UAAU1E,CAAV,EAAarC,CAAb,EAAgB;AACf,WAAOX,KAAK,CAACmE,aAAa,CAAC/D,QAAd,CAAuB4C,CAAvB,EAA0BrC,CAA1B,CAAD,EAA+B,UAAUuG,CAAV,EAAa;AACpD,UAAItG,CAAC,GAAGsG,CAAR;AACA,UAAIb,MAAM,GAAG,EAAb;;AACA,WAAK,IAAIhH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoC,GAApB,EAAyBpC,CAAC,EAA1B,EAA8B;AAC1B,YAAI+F,CAAC,GAAGF,IAAI,CAAC7F,CAAD,CAAZ;AACA,YAAI8H,EAAE,GAAGvG,CAAC,CAACwE,CAAD,CAAV;AACA,YAAIwC,MAAM,GAAGhB,KAAK,CAACxB,CAAD,CAAlB;AACA,YAAImB,MAAM,GAAGqB,MAAM,CAACxH,QAAP,CAAgB+G,EAAhB,EAAoB3F,aAAa,CAACb,CAAD,EAAIyE,CAAJ,EAAOwC,MAAP,EAAeT,EAAf,CAAjC,CAAb;;AACA,YAAIvH,MAAM,CAAC2G,MAAD,CAAV,EAAoB;AAChB,cAAIY,EAAE,KAAKQ,SAAX,EAAsB;AAClB1F,YAAAA,OAAO,CAACoE,MAAD,EAASE,MAAM,CAAC1G,IAAhB,CAAP;AACH;AACJ,SAJD,MAKK;AACD,cAAIwH,GAAG,GAAGd,MAAM,CAACzG,KAAjB;;AACA,cAAIuH,GAAG,KAAKF,EAAZ,EAAgB;AACZ;AACA,gBAAIvG,CAAC,KAAKsG,CAAV,EAAa;AACTtG,cAAAA,CAAC,GAAG3B,QAAQ,CAAC,EAAD,EAAKiI,CAAL,CAAZ;AACH;;AACDtG,YAAAA,CAAC,CAACwE,CAAD,CAAD,GAAOiC,GAAP;AACH;AACJ;AACJ;;AACD,aAAOhB,MAAM,CAAC7G,MAAP,GAAgB,CAAhB,GAAoBmC,QAAQ,CAAC0E,MAAD,CAA5B,GAAuCrE,OAAO,CAACpB,CAAD,CAArD;AACH,KAzBW,CAAZ;AA0BH,GAvCM,EAuCJkG,WAAW,CAACG,KAAD,CAAX,GACGpG,QADH,GAEG,UAAUD,CAAV,EAAa;AACX,QAAIxB,CAAC,GAAGH,QAAQ,CAAC,EAAD,EAAK2B,CAAL,CAAhB;;AACA,SAAK,IAAIvB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoC,GAApB,EAAyBpC,CAAC,EAA1B,EAA8B;AAC1B,UAAI+F,CAAC,GAAGF,IAAI,CAAC7F,CAAD,CAAZ;AACA,UAAI8H,EAAE,GAAGvG,CAAC,CAACwE,CAAD,CAAV;;AACA,UAAI+B,EAAE,KAAKQ,SAAX,EAAsB;AAClBvI,QAAAA,CAAC,CAACgG,CAAD,CAAD,GAAO6B,KAAK,CAAC5H,CAAD,CAAL,CAASgB,MAAT,CAAgB8G,EAAhB,CAAP;AACH;AACJ;;AACD,WAAO/H,CAAP;AACH,GAnDE,EAmDAwH,KAnDA,CAAP;AAoDH,CAzDM;AA0DP;AACA;AACA;;AACA,IAAIiB,cAAc;AAAG;AAAe,UAAU9E,MAAV,EAAkB;AAClD5E,EAAAA,SAAS,CAAC0J,cAAD,EAAiB9E,MAAjB,CAAT;;AACA,WAAS8E,cAAT,CAAwB3H,IAAxB,EAA8BC,EAA9B,EAAkCC,QAAlC,EAA4CC,MAA5C,EAAoDyH,MAApD,EAA4DC,QAA5D,EAAsE;AAClE,QAAIrH,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkBS,IAAlB,EAAwBC,EAAxB,EAA4BC,QAA5B,EAAsCC,MAAtC,KAAiD,IAA7D;;AACAK,IAAAA,KAAK,CAACoH,MAAN,GAAeA,MAAf;AACApH,IAAAA,KAAK,CAACqH,QAAN,GAAiBA,QAAjB;AACArH,IAAAA,KAAK,CAAC+B,IAAN,GAAa,gBAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAOmH,cAAP;AACH,CAVmC,CAUlC5H,IAVkC,CAApC;;AAWA,SAAS4H,cAAT;;AACA,IAAIG,QAAQ,GAAG,SAAXA,QAAW,CAAUtG,CAAV,EAAa;AAAE,SAAOnD,MAAM,CAACQ,SAAP,CAAiBkJ,QAAjB,CAA0BxI,IAA1B,CAA+BiC,CAA/B,MAAsC,iBAA7C;AAAiE,CAA/F;AACA;AACA;AACA;;;AACA,OAAO,IAAIwG,MAAM,GAAG,SAATA,MAAS,CAAUJ,MAAV,EAAkBC,QAAlB,EAA4B7H,IAA5B,EAAkC;AAClD,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAEA,IAAAA,IAAI,GAAG,aAAa4H,MAAM,CAAC5H,IAApB,GAA2B,KAA3B,GAAmC6H,QAAQ,CAAC7H,IAA5C,GAAmD,IAA1D;AAAiE;;AACxF,SAAO,IAAI2H,cAAJ,CAAmB3H,IAAnB,EAAyB,UAAU8C,CAAV,EAAa;AACzC,QAAI,CAACmB,aAAa,CAAChE,EAAd,CAAiB6C,CAAjB,CAAL,EAA0B;AACtB,aAAO,KAAP;AACH;;AACD,QAAI,CAACN,cAAc,CAACqF,QAAD,CAAf,IAA6B,CAACpF,UAAU,CAACoF,QAAD,CAAxC,IAAsD,CAACC,QAAQ,CAAChF,CAAD,CAAnE,EAAwE;AACpE,aAAO,KAAP;AACH;;AACD,WAAOzE,MAAM,CAAC2G,IAAP,CAAYlC,CAAZ,EAAekD,KAAf,CAAqB,UAAUd,CAAV,EAAa;AAAE,aAAO0C,MAAM,CAAC3H,EAAP,CAAUiF,CAAV,KAAgB2C,QAAQ,CAAC5H,EAAT,CAAY6C,CAAC,CAACoC,CAAD,CAAb,CAAvB;AAA2C,KAA/E,CAAP;AACH,GARM,EAQJ,UAAUpC,CAAV,EAAarC,CAAb,EAAgB;AACf,WAAOX,KAAK,CAACmE,aAAa,CAAC/D,QAAd,CAAuB4C,CAAvB,EAA0BrC,CAA1B,CAAD,EAA+B,UAAUuG,CAAV,EAAa;AACpD,UAAI,CAACxE,cAAc,CAACqF,QAAD,CAAf,IAA6B,CAACpF,UAAU,CAACoF,QAAD,CAAxC,IAAsD,CAACC,QAAQ,CAACd,CAAD,CAAnE,EAAwE;AACpE,eAAOtF,OAAO,CAACoB,CAAD,EAAIrC,CAAJ,CAAd;AACH;;AACD,UAAIC,CAAC,GAAG,EAAR;AACA,UAAIyF,MAAM,GAAG,EAAb;AACA,UAAInB,IAAI,GAAG3G,MAAM,CAAC2G,IAAP,CAAYgC,CAAZ,CAAX;AACA,UAAIzF,GAAG,GAAGyD,IAAI,CAAC1F,MAAf;AACA,UAAI2I,OAAO,GAAG,KAAd;;AACA,WAAK,IAAI9I,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoC,GAApB,EAAyBpC,CAAC,EAA1B,EAA8B;AAC1B,YAAI+F,CAAC,GAAGF,IAAI,CAAC7F,CAAD,CAAZ;AACA,YAAI+I,EAAE,GAAGlB,CAAC,CAAC9B,CAAD,CAAV;AACA,YAAIiD,YAAY,GAAGP,MAAM,CAAC1H,QAAP,CAAgBgF,CAAhB,EAAmB5D,aAAa,CAACb,CAAD,EAAIyE,CAAJ,EAAO0C,MAAP,EAAe1C,CAAf,CAAhC,CAAnB;;AACA,YAAIxF,MAAM,CAACyI,YAAD,CAAV,EAA0B;AACtBpG,UAAAA,OAAO,CAACoE,MAAD,EAASgC,YAAY,CAACxI,IAAtB,CAAP;AACH,SAFD,MAGK;AACD,cAAIyI,EAAE,GAAGD,YAAY,CAACvI,KAAtB;AACAqI,UAAAA,OAAO,GAAGA,OAAO,IAAIG,EAAE,KAAKlD,CAA5B;AACAA,UAAAA,CAAC,GAAGkD,EAAJ;AACA,cAAIC,cAAc,GAAGR,QAAQ,CAAC3H,QAAT,CAAkBgI,EAAlB,EAAsB5G,aAAa,CAACb,CAAD,EAAIyE,CAAJ,EAAO2C,QAAP,EAAiBK,EAAjB,CAAnC,CAArB;;AACA,cAAIxI,MAAM,CAAC2I,cAAD,CAAV,EAA4B;AACxBtG,YAAAA,OAAO,CAACoE,MAAD,EAASkC,cAAc,CAAC1I,IAAxB,CAAP;AACH,WAFD,MAGK;AACD,gBAAI2I,GAAG,GAAGD,cAAc,CAACzI,KAAzB;AACAqI,YAAAA,OAAO,GAAGA,OAAO,IAAIK,GAAG,KAAKJ,EAA7B;AACAxH,YAAAA,CAAC,CAACwE,CAAD,CAAD,GAAOoD,GAAP;AACH;AACJ;AACJ;;AACD,aAAOnC,MAAM,CAAC7G,MAAP,GAAgB,CAAhB,GAAoBmC,QAAQ,CAAC0E,MAAD,CAA5B,GAAuCrE,OAAO,CAAEmG,OAAO,GAAGvH,CAAH,GAAOsG,CAAhB,CAArD;AACH,KAhCW,CAAZ;AAiCH,GA1CM,EA0CJY,MAAM,CAACzH,MAAP,KAAkBQ,QAAlB,IAA8BkH,QAAQ,CAAC1H,MAAT,KAAoBQ,QAAlD,GACGA,QADH,GAEG,UAAUD,CAAV,EAAa;AACX,QAAIxB,CAAC,GAAG,EAAR;AACA,QAAI8F,IAAI,GAAG3G,MAAM,CAAC2G,IAAP,CAAYtE,CAAZ,CAAX;AACA,QAAIa,GAAG,GAAGyD,IAAI,CAAC1F,MAAf;;AACA,SAAK,IAAIH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoC,GAApB,EAAyBpC,CAAC,EAA1B,EAA8B;AAC1B,UAAI+F,CAAC,GAAGF,IAAI,CAAC7F,CAAD,CAAZ;AACAD,MAAAA,CAAC,CAACoH,MAAM,CAACsB,MAAM,CAACzH,MAAP,CAAc+E,CAAd,CAAD,CAAP,CAAD,GAA8B2C,QAAQ,CAAC1H,MAAT,CAAgBO,CAAC,CAACwE,CAAD,CAAjB,CAA9B;AACH;;AACD,WAAOhG,CAAP;AACH,GArDE,EAqDA0I,MArDA,EAqDQC,QArDR,CAAP;AAsDH,CAxDM;AAyDP;AACA;AACA;;AACA,IAAIU,SAAS;AAAG;AAAe,UAAU1F,MAAV,EAAkB;AAC7C5E,EAAAA,SAAS,CAACsK,SAAD,EAAY1F,MAAZ,CAAT;;AACA,WAAS0F,SAAT,CAAmBvI,IAAnB,EAAyBC,EAAzB,EAA6BC,QAA7B,EAAuCC,MAAvC,EAA+C4G,KAA/C,EAAsD;AAClD,QAAIvG,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkBS,IAAlB,EAAwBC,EAAxB,EAA4BC,QAA5B,EAAsCC,MAAtC,KAAiD,IAA7D;;AACAK,IAAAA,KAAK,CAACuG,KAAN,GAAcA,KAAd;AACAvG,IAAAA,KAAK,CAAC+B,IAAN,GAAa,WAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAO+H,SAAP;AACH,CAT8B,CAS7BxI,IAT6B,CAA/B;;AAUA,SAASwI,SAAT;;AACA,IAAIC,YAAY,GAAG,SAAfA,YAAe,CAAU3B,MAAV,EAAkB;AACjC,SAAO,MAAMA,MAAM,CAAChH,GAAP,CAAW,UAAUkB,IAAV,EAAgB;AAAE,WAAOA,IAAI,CAACf,IAAZ;AAAmB,GAAhD,EAAkDmF,IAAlD,CAAuD,KAAvD,CAAN,GAAsE,GAA7E;AACH,CAFD;AAGA;AACA;AACA;;;AACA,OAAO,IAAIsD,KAAK,GAAG,SAARA,KAAQ,CAAU5B,MAAV,EAAkB7G,IAAlB,EAAwB;AACvC,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAEA,IAAAA,IAAI,GAAGwI,YAAY,CAAC3B,MAAD,CAAnB;AAA8B;;AACrD,MAAI6B,KAAK,GAAGC,QAAQ,CAAC9B,MAAD,CAApB;;AACA,MAAI6B,KAAK,KAAKjB,SAAV,IAAuBZ,MAAM,CAACvH,MAAP,GAAgB,CAA3C,EAA8C;AAC1C,QAAIsJ,KAAK,GAAGF,KAAK,CAAC,CAAD,CAAjB;AAAA,QAAsBG,QAAQ,GAAGH,KAAK,CAAC,CAAD,CAAtC;AACA,QAAII,KAAK,GAAGD,QAAQ,CAACvJ,MAArB;;AACA,QAAIyJ,MAAM,GAAG,SAATA,MAAS,CAAUpH,KAAV,EAAiB;AAC1B,WAAK,IAAIxC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2J,KAApB,EAA2B3J,CAAC,EAA5B,EAAgC;AAC5B,YAAI0J,QAAQ,CAAC1J,CAAD,CAAR,CAAY6J,OAAZ,CAAoBrH,KAApB,MAA+B,CAAC,CAApC,EAAuC;AACnC,iBAAOxC,CAAP;AACH;AACJ;;AACD,aAAOsI,SAAP;AACH,KAPD,CAH0C,CAW1C;;;AACA,WAAO,IAAIwB,eAAJ,CAAoBjJ,IAApB,EAA0B,UAAU8C,CAAV,EAAa;AAC1C,UAAI,CAACmB,aAAa,CAAChE,EAAd,CAAiB6C,CAAjB,CAAL,EAA0B;AACtB,eAAO,KAAP;AACH;;AACD,UAAI3D,CAAC,GAAG4J,MAAM,CAACjG,CAAC,CAAC8F,KAAD,CAAF,CAAd;AACA,aAAOzJ,CAAC,KAAKsI,SAAN,GAAkBZ,MAAM,CAAC1H,CAAD,CAAN,CAAUc,EAAV,CAAa6C,CAAb,CAAlB,GAAoC,KAA3C;AACH,KANM,EAMJ,UAAUA,CAAV,EAAarC,CAAb,EAAgB;AACf,aAAOX,KAAK,CAACmE,aAAa,CAAC/D,QAAd,CAAuB4C,CAAvB,EAA0BrC,CAA1B,CAAD,EAA+B,UAAUe,CAAV,EAAa;AACpD,YAAIrC,CAAC,GAAG4J,MAAM,CAACvH,CAAC,CAACoH,KAAD,CAAF,CAAd;;AACA,YAAIzJ,CAAC,KAAKsI,SAAV,EAAqB;AACjB,iBAAO/F,OAAO,CAACoB,CAAD,EAAIrC,CAAJ,CAAd;AACH;;AACD,YAAI6B,KAAK,GAAGuE,MAAM,CAAC1H,CAAD,CAAlB;AACA,eAAOmD,KAAK,CAACpC,QAAN,CAAesB,CAAf,EAAkBF,aAAa,CAACb,CAAD,EAAI6F,MAAM,CAACnH,CAAD,CAAV,EAAemD,KAAf,EAAsBd,CAAtB,CAA/B,CAAP;AACH,OAPW,CAAZ;AAQH,KAfM,EAeJoF,WAAW,CAACC,MAAD,CAAX,GACGlG,QADH,GAEG,UAAUD,CAAV,EAAa;AACX,UAAIvB,CAAC,GAAG4J,MAAM,CAACrI,CAAC,CAACkI,KAAD,CAAF,CAAd;;AACA,UAAIzJ,CAAC,KAAKsI,SAAV,EAAqB;AACjB;AACA,cAAM,IAAIyB,KAAJ,CAAU,mDAAmDlJ,IAA7D,CAAN;AACH,OAHD,MAIK;AACD,eAAO6G,MAAM,CAAC1H,CAAD,CAAN,CAAUgB,MAAV,CAAiBO,CAAjB,CAAP;AACH;AACJ,KA1BE,EA0BAmG,MA1BA,EA0BQ+B,KA1BR,CAAP;AA2BH,GAvCD,MAwCK;AACD,WAAO,IAAIL,SAAJ,CAAcvI,IAAd,EAAoB,UAAU8C,CAAV,EAAa;AAAE,aAAO+D,MAAM,CAACsC,IAAP,CAAY,UAAUpI,IAAV,EAAgB;AAAE,eAAOA,IAAI,CAACd,EAAL,CAAQ6C,CAAR,CAAP;AAAoB,OAAlD,CAAP;AAA6D,KAAhG,EAAkG,UAAUA,CAAV,EAAarC,CAAb,EAAgB;AACrH,UAAI0F,MAAM,GAAG,EAAb;;AACA,WAAK,IAAIhH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0H,MAAM,CAACvH,MAA3B,EAAmCH,CAAC,EAApC,EAAwC;AACpC,YAAImD,KAAK,GAAGuE,MAAM,CAAC1H,CAAD,CAAlB;AACA,YAAIkH,MAAM,GAAG/D,KAAK,CAACpC,QAAN,CAAe4C,CAAf,EAAkBxB,aAAa,CAACb,CAAD,EAAI6F,MAAM,CAACnH,CAAD,CAAV,EAAemD,KAAf,EAAsBQ,CAAtB,CAA/B,CAAb;;AACA,YAAIpD,MAAM,CAAC2G,MAAD,CAAV,EAAoB;AAChBtE,UAAAA,OAAO,CAACoE,MAAD,EAASE,MAAM,CAAC1G,IAAhB,CAAP;AACH,SAFD,MAGK;AACD,iBAAOmC,OAAO,CAACuE,MAAM,CAACzG,KAAR,CAAd;AACH;AACJ;;AACD,aAAO6B,QAAQ,CAAC0E,MAAD,CAAf;AACH,KAbM,EAaJS,WAAW,CAACC,MAAD,CAAX,GACGlG,QADH,GAEG,UAAUD,CAAV,EAAa;AACX,WAAK,IAAI0I,EAAE,GAAG,CAAT,EAAYC,QAAQ,GAAGxC,MAA5B,EAAoCuC,EAAE,GAAGC,QAAQ,CAAC/J,MAAlD,EAA0D8J,EAAE,EAA5D,EAAgE;AAC5D,YAAI9G,KAAK,GAAG+G,QAAQ,CAACD,EAAD,CAApB;;AACA,YAAI9G,KAAK,CAACrC,EAAN,CAASS,CAAT,CAAJ,EAAiB;AACb,iBAAO4B,KAAK,CAACnC,MAAN,CAAaO,CAAb,CAAP;AACH;AACJ,OANU,CAOX;;;AACA,YAAM,IAAIwI,KAAJ,CAAU,kDAAkDlJ,IAA5D,CAAN;AACH,KAxBE,EAwBA6G,MAxBA,CAAP;AAyBH;AACJ,CAtEM;AAuEP;AACA;AACA;;AACA,IAAIyC,gBAAgB;AAAG;AAAe,UAAUzG,MAAV,EAAkB;AACpD5E,EAAAA,SAAS,CAACqL,gBAAD,EAAmBzG,MAAnB,CAAT;;AACA,WAASyG,gBAAT,CAA0BtJ,IAA1B,EAAgCC,EAAhC,EAAoCC,QAApC,EAA8CC,MAA9C,EAAsD4G,KAAtD,EAA6D;AACzD,QAAIvG,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkBS,IAAlB,EAAwBC,EAAxB,EAA4BC,QAA5B,EAAsCC,MAAtC,KAAiD,IAA7D;;AACAK,IAAAA,KAAK,CAACuG,KAAN,GAAcA,KAAd;AACAvG,IAAAA,KAAK,CAAC+B,IAAN,GAAa,kBAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAO8I,gBAAP;AACH,CATqC,CASpCvJ,IAToC,CAAtC;;AAUA,SAASuJ,gBAAT;;AACA,IAAIC,QAAQ,GAAG,SAAXA,QAAW,CAAUC,IAAV,EAAgBvD,EAAhB,EAAoB;AAC/B,MAAIzE,CAAC,GAAGgI,IAAR;;AACA,OAAK,IAAIrK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8G,EAAE,CAAC3G,MAAvB,EAA+BH,CAAC,EAAhC,EAAoC;AAChC,QAAI2D,CAAC,GAAGmD,EAAE,CAAC9G,CAAD,CAAV;;AACA,QAAI2D,CAAC,KAAK0G,IAAV,EAAgB;AACZ;AACA,UAAIhI,CAAC,KAAKgI,IAAV,EAAgB;AACZhI,QAAAA,CAAC,GAAGnD,MAAM,CAACW,MAAP,CAAc,EAAd,EAAkB8D,CAAlB,CAAJ;AACA;AACH;;AACD,WAAK,IAAIoC,CAAT,IAAcpC,CAAd,EAAiB;AACb,YAAIA,CAAC,CAACoC,CAAD,CAAD,KAASsE,IAAI,CAACtE,CAAD,CAAb,IAAoB,CAAC1D,CAAC,CAAC9C,cAAF,CAAiBwG,CAAjB,CAAzB,EAA8C;AAC1C1D,UAAAA,CAAC,CAAC0D,CAAD,CAAD,GAAOpC,CAAC,CAACoC,CAAD,CAAR;AACH;AACJ;AACJ;AACJ;;AACD,SAAO1D,CAAP;AACH,CAlBD;;AAmBA,OAAO,SAASiI,YAAT,CAAsB5C,MAAtB,EAA8B7G,IAA9B,EAAoC;AACvC,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAEA,IAAAA,IAAI,GAAG,MAAM6G,MAAM,CAAChH,GAAP,CAAW,UAAUkB,IAAV,EAAgB;AAAE,aAAOA,IAAI,CAACf,IAAZ;AAAmB,KAAhD,EAAkDmF,IAAlD,CAAuD,KAAvD,CAAN,GAAsE,GAA7E;AAAmF;;AAC1G,MAAI5D,GAAG,GAAGsF,MAAM,CAACvH,MAAjB;AACA,SAAO,IAAIgK,gBAAJ,CAAqBtJ,IAArB,EAA2B,UAAU8C,CAAV,EAAa;AAAE,WAAO+D,MAAM,CAACb,KAAP,CAAa,UAAUjF,IAAV,EAAgB;AAAE,aAAOA,IAAI,CAACd,EAAL,CAAQ6C,CAAR,CAAP;AAAoB,KAAnD,CAAP;AAA8D,GAAxG,EAA0G+D,MAAM,CAACvH,MAAP,KAAkB,CAAlB,GAC3GwC,OAD2G,GAE3G,UAAUgB,CAAV,EAAarC,CAAb,EAAgB;AACd,QAAIwF,EAAE,GAAG,EAAT;AACA,QAAIE,MAAM,GAAG,EAAb;;AACA,SAAK,IAAIhH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoC,GAApB,EAAyBpC,CAAC,EAA1B,EAA8B;AAC1B,UAAImD,KAAK,GAAGuE,MAAM,CAAC1H,CAAD,CAAlB;AACA,UAAIkH,MAAM,GAAG/D,KAAK,CAACpC,QAAN,CAAe4C,CAAf,EAAkBxB,aAAa,CAACb,CAAD,EAAI6F,MAAM,CAACnH,CAAD,CAAV,EAAemD,KAAf,EAAsBQ,CAAtB,CAA/B,CAAb;;AACA,UAAIpD,MAAM,CAAC2G,MAAD,CAAV,EAAoB;AAChBtE,QAAAA,OAAO,CAACoE,MAAD,EAASE,MAAM,CAAC1G,IAAhB,CAAP;AACH,OAFD,MAGK;AACDsG,QAAAA,EAAE,CAAC9D,IAAH,CAAQkE,MAAM,CAACzG,KAAf;AACH;AACJ;;AACD,WAAOuG,MAAM,CAAC7G,MAAP,GAAgB,CAAhB,GAAoBmC,QAAQ,CAAC0E,MAAD,CAA5B,GAAuCrE,OAAO,CAACyH,QAAQ,CAACzG,CAAD,EAAImD,EAAJ,CAAT,CAArD;AACH,GAhBE,EAgBAY,MAAM,CAACvH,MAAP,KAAkB,CAAlB,GAAsBqB,QAAtB,GAAiC,UAAUD,CAAV,EAAa;AAAE,WAAO6I,QAAQ,CAAC7I,CAAD,EAAImG,MAAM,CAAChH,GAAP,CAAW,UAAUyC,KAAV,EAAiB;AAAE,aAAOA,KAAK,CAACnC,MAAN,CAAaO,CAAb,CAAP;AAAyB,KAAvD,CAAJ,CAAf;AAA+E,GAhB/H,EAgBiImG,MAhBjI,CAAP;AAiBH;AACD;AACA;AACA;;AACA,IAAI6C,SAAS;AAAG;AAAe,UAAU7G,MAAV,EAAkB;AAC7C5E,EAAAA,SAAS,CAACyL,SAAD,EAAY7G,MAAZ,CAAT;;AACA,WAAS6G,SAAT,CAAmB1J,IAAnB,EAAyBC,EAAzB,EAA6BC,QAA7B,EAAuCC,MAAvC,EAA+C4G,KAA/C,EAAsD;AAClD,QAAIvG,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkBS,IAAlB,EAAwBC,EAAxB,EAA4BC,QAA5B,EAAsCC,MAAtC,KAAiD,IAA7D;;AACAK,IAAAA,KAAK,CAACuG,KAAN,GAAcA,KAAd;AACAvG,IAAAA,KAAK,CAAC+B,IAAN,GAAa,WAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAOkJ,SAAP;AACH,CAT8B,CAS7B3J,IAT6B,CAA/B;;AAUA,SAAS2J,SAAT;AACA,OAAO,SAASC,KAAT,CAAe9C,MAAf,EAAuB7G,IAAvB,EAA6B;AAChC,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAEA,IAAAA,IAAI,GAAG,MAAM6G,MAAM,CAAChH,GAAP,CAAW,UAAUkB,IAAV,EAAgB;AAAE,aAAOA,IAAI,CAACf,IAAZ;AAAmB,KAAhD,EAAkDmF,IAAlD,CAAuD,IAAvD,CAAN,GAAqE,GAA5E;AAAkF;;AACzG,MAAI5D,GAAG,GAAGsF,MAAM,CAACvH,MAAjB;AACA,SAAO,IAAIoK,SAAJ,CAAc1J,IAAd,EAAoB,UAAU8C,CAAV,EAAa;AAAE,WAAOiB,YAAY,CAAC9D,EAAb,CAAgB6C,CAAhB,KAAsBA,CAAC,CAACxD,MAAF,KAAaiC,GAAnC,IAA0CsF,MAAM,CAACb,KAAP,CAAa,UAAUjF,IAAV,EAAgB5B,CAAhB,EAAmB;AAAE,aAAO4B,IAAI,CAACd,EAAL,CAAQ6C,CAAC,CAAC3D,CAAD,CAAT,CAAP;AAAuB,KAAzD,CAAjD;AAA8G,GAAjJ,EAAmJ,UAAU2D,CAAV,EAAarC,CAAb,EAAgB;AACtK,WAAOX,KAAK,CAACiE,YAAY,CAAC7D,QAAb,CAAsB4C,CAAtB,EAAyBrC,CAAzB,CAAD,EAA8B,UAAUwF,EAAV,EAAc;AACpD,UAAIC,EAAE,GAAGD,EAAE,CAAC3G,MAAH,GAAYiC,GAAZ,GAAkB0E,EAAE,CAACO,KAAH,CAAS,CAAT,EAAYjF,GAAZ,CAAlB,GAAqC0E,EAA9C,CADoD,CACF;;AAClD,UAAIE,MAAM,GAAG,EAAb;;AACA,WAAK,IAAIhH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoC,GAApB,EAAyBpC,CAAC,EAA1B,EAA8B;AAC1B,YAAIuB,CAAC,GAAGuF,EAAE,CAAC9G,CAAD,CAAV;AACA,YAAIyK,MAAM,GAAG/C,MAAM,CAAC1H,CAAD,CAAnB;AACA,YAAIkH,MAAM,GAAGuD,MAAM,CAAC1J,QAAP,CAAgBQ,CAAhB,EAAmBY,aAAa,CAACb,CAAD,EAAI6F,MAAM,CAACnH,CAAD,CAAV,EAAeyK,MAAf,EAAuBlJ,CAAvB,CAAhC,CAAb;;AACA,YAAIhB,MAAM,CAAC2G,MAAD,CAAV,EAAoB;AAChBtE,UAAAA,OAAO,CAACoE,MAAD,EAASE,MAAM,CAAC1G,IAAhB,CAAP;AACH,SAFD,MAGK;AACD,cAAIkK,EAAE,GAAGxD,MAAM,CAACzG,KAAhB;;AACA,cAAIiK,EAAE,KAAKnJ,CAAX,EAAc;AACV;AACA,gBAAIwF,EAAE,KAAKD,EAAX,EAAe;AACXC,cAAAA,EAAE,GAAGD,EAAE,CAACO,KAAH,EAAL;AACH;;AACDN,YAAAA,EAAE,CAAC/G,CAAD,CAAF,GAAQ0K,EAAR;AACH;AACJ;AACJ;;AACD,aAAO1D,MAAM,CAAC7G,MAAP,GAAgB,CAAhB,GAAoBmC,QAAQ,CAAC0E,MAAD,CAA5B,GAAuCrE,OAAO,CAACoE,EAAD,CAArD;AACH,KAtBW,CAAZ;AAuBH,GAxBM,EAwBJU,WAAW,CAACC,MAAD,CAAX,GAAsBlG,QAAtB,GAAiC,UAAUD,CAAV,EAAa;AAAE,WAAOmG,MAAM,CAAChH,GAAP,CAAW,UAAUkB,IAAV,EAAgB5B,CAAhB,EAAmB;AAAE,aAAO4B,IAAI,CAACZ,MAAL,CAAYO,CAAC,CAACvB,CAAD,CAAb,CAAP;AAA2B,KAA3D,CAAP;AAAsE,GAxBlH,EAwBoH0H,MAxBpH,CAAP;AAyBH;AACD;AACA;AACA;;AACA,IAAIiD,YAAY;AAAG;AAAe,UAAUjH,MAAV,EAAkB;AAChD5E,EAAAA,SAAS,CAAC6L,YAAD,EAAejH,MAAf,CAAT;;AACA,WAASiH,YAAT,CAAsB9J,IAAtB,EAA4BC,EAA5B,EAAgCC,QAAhC,EAA0CC,MAA1C,EAAkDY,IAAlD,EAAwD;AACpD,QAAIP,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkBS,IAAlB,EAAwBC,EAAxB,EAA4BC,QAA5B,EAAsCC,MAAtC,KAAiD,IAA7D;;AACAK,IAAAA,KAAK,CAACO,IAAN,GAAaA,IAAb;AACAP,IAAAA,KAAK,CAAC+B,IAAN,GAAa,cAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAOsJ,YAAP;AACH,CATiC,CAShC/J,IATgC,CAAlC;;AAUA,SAAS+J,YAAT;AACA;AACA;AACA;;AACA,OAAO,IAAIC,QAAQ,GAAG,SAAXA,QAAW,CAAUzH,KAAV,EAAiBtC,IAAjB,EAAuB;AACzC,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAEA,IAAAA,IAAI,GAAG,cAAcsC,KAAK,CAACtC,IAApB,GAA2B,GAAlC;AAAwC;;AAC/D,SAAO,IAAI8J,YAAJ,CAAiB9J,IAAjB,EAAuBsC,KAAK,CAACrC,EAA7B,EAAiC,UAAU6C,CAAV,EAAarC,CAAb,EAAgB;AACpD,WAAOZ,GAAG,CAACyC,KAAK,CAACpC,QAAN,CAAe4C,CAAf,EAAkBrC,CAAlB,CAAD,EAAuB,UAAUuJ,CAAV,EAAa;AAC1C,UAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACvC,eAAO9L,MAAM,CAAC+L,MAAP,CAAcJ,CAAd,CAAP;AACH;;AACD,aAAOA,CAAP;AACH,KALS,CAAV;AAMH,GAPM,EAOJ1H,KAAK,CAACnC,MAAN,KAAiBQ,QAAjB,GAA4BA,QAA5B,GAAuC2B,KAAK,CAACnC,MAPzC,EAOiDmC,KAPjD,CAAP;AAQH,CAVM;AAWP;AACA;AACA;;AACA,IAAI+H,iBAAiB;AAAG;AAAe,UAAUxH,MAAV,EAAkB;AACrD5E,EAAAA,SAAS,CAACoM,iBAAD,EAAoBxH,MAApB,CAAT;;AACA,WAASwH,iBAAT,CAA2BrK,IAA3B,EAAiCC,EAAjC,EAAqCC,QAArC,EAA+CC,MAA/C,EAAuDY,IAAvD,EAA6D;AACzD,QAAIP,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkBS,IAAlB,EAAwBC,EAAxB,EAA4BC,QAA5B,EAAsCC,MAAtC,KAAiD,IAA7D;;AACAK,IAAAA,KAAK,CAACO,IAAN,GAAaA,IAAb;AACAP,IAAAA,KAAK,CAAC+B,IAAN,GAAa,mBAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAO6J,iBAAP;AACH,CATsC,CASrCtK,IATqC,CAAvC;;AAUA,SAASsK,iBAAT;AACA;AACA;AACA;;AACA,OAAO,IAAIC,aAAa,GAAG,SAAhBA,aAAgB,CAAUhI,KAAV,EAAiBtC,IAAjB,EAAuB;AAC9C,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAEA,IAAAA,IAAI,GAAG,mBAAmBsC,KAAK,CAACtC,IAAzB,GAAgC,GAAvC;AAA6C;;AACpE,MAAIuK,SAAS,GAAGxE,KAAK,CAACzD,KAAD,CAArB;AACA,SAAO,IAAI+H,iBAAJ,CAAsBrK,IAAtB,EAA4BuK,SAAS,CAACtK,EAAtC,EAA0C,UAAU6C,CAAV,EAAarC,CAAb,EAAgB;AAC7D,WAAOZ,GAAG,CAAC0K,SAAS,CAACrK,QAAV,CAAmB4C,CAAnB,EAAsBrC,CAAtB,CAAD,EAA2B,UAAUuJ,CAAV,EAAa;AAC9C,UAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACvC,eAAO9L,MAAM,CAAC+L,MAAP,CAAcJ,CAAd,CAAP;AACH;;AACD,aAAOA,CAAP;AACH,KALS,CAAV;AAMH,GAPM,EAOJO,SAAS,CAACpK,MAPN,EAOcmC,KAPd,CAAP;AAQH,CAXM;AAYP;AACA;AACA;AACA;;AACA,OAAO,IAAIkI,MAAM,GAAG,SAATA,MAAS,CAAU9D,KAAV,EAAiB1G,IAAjB,EAAuB;AACvC,SAAOyK,KAAK,CAAC1J,IAAI,CAAC2F,KAAD,CAAL,EAAc1G,IAAd,CAAZ;AACH,CAFM;AAGP;AACA;AACA;AACA;;AACA,IAAIiJ,eAAe;AAAG;AAAe,UAAUpG,MAAV,EAAkB;AACnD5E,EAAAA,SAAS,CAACgL,eAAD,EAAkBpG,MAAlB,CAAT;;AACA,WAASoG,eAAT,CAAyBjJ,IAAzB,EACA;AACAC,EAAAA,EAFA,EAGA;AACAC,EAAAA,QAJA,EAKA;AACAC,EAAAA,MANA,EAMQ0G,MANR,EAMgBxE,GANhB,EAMqB;AACjB,QAAI7B,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkBS,IAAlB,EAAwBC,EAAxB,EAA4BC,QAA5B,EAAsCC,MAAtC,EAA8C0G,MAA9C;AAAsD;AAA2B;AAAjF,OACR,IADJ;;AAEArG,IAAAA,KAAK,CAAC6B,GAAN,GAAYA,GAAZ;AACA,WAAO7B,KAAP;AACH;;AACD,SAAOyI,eAAP;AACH,CAfoC,CAenCV,SAfmC,CAArC;;AAgBA,SAASU,eAAT;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIyB,WAAW,GAAG,SAAdA,WAAc,CAAUrI,GAAV,EAAewE,MAAf,EAAuB7G,IAAvB,CACzB;AADyB,EAEvB;AACE,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAEA,IAAAA,IAAI,GAAGwI,YAAY,CAAC3B,MAAD,CAAnB;AAA8B;;AACrD,MAAI8D,CAAC,GAAGlC,KAAK,CAAC5B,MAAD,EAAS7G,IAAT,CAAb,CAFF,CAGE;;AACA,MAAI2K,CAAC,YAAY1B,eAAjB,EAAkC;AAC9B,WAAO0B,CAAP;AACH,GAFD,MAGK;AACDC,IAAAA,OAAO,CAACC,IAAR,CAAa,6CAA6C7K,IAA7C,GAAoD,kCAAjE,EADC,CAED;;AACA,WAAO,IAAIiJ,eAAJ,CAAoBjJ,IAApB,EAA0B2K,CAAC,CAAC1K,EAA5B,EAAgC0K,CAAC,CAACzK,QAAlC,EAA4CyK,CAAC,CAACxK,MAA9C,EAAsD0G,MAAtD,EAA8DxE,GAA9D,CAAP;AACH;AACJ,CAdM;AAeP;AACA;AACA;;AACA,IAAIyI,SAAS;AAAG;AAAe,UAAUjI,MAAV,EAAkB;AAC7C5E,EAAAA,SAAS,CAAC6M,SAAD,EAAYjI,MAAZ,CAAT;;AACA,WAASiI,SAAT,CAAmB9K,IAAnB,EAAyBC,EAAzB,EAA6BC,QAA7B,EAAuCC,MAAvC,EAA+CY,IAA/C,EAAqD;AACjD,QAAIP,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkBS,IAAlB,EAAwBC,EAAxB,EAA4BC,QAA5B,EAAsCC,MAAtC,KAAiD,IAA7D;;AACAK,IAAAA,KAAK,CAACO,IAAN,GAAaA,IAAb;AACAP,IAAAA,KAAK,CAAC+B,IAAN,GAAa,WAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAOsK,SAAP;AACH,CAT8B,CAS7B/K,IAT6B,CAA/B;;AAUA,SAAS+K,SAAT;;AACA,IAAIC,QAAQ,GAAG,SAAXA,QAAW,CAAUzI,KAAV,EAAiB;AAC5B,UAAQA,KAAK,CAACC,IAAd;AACI,SAAK,gBAAL;AACA,SAAK,cAAL;AACI,aAAOwI,QAAQ,CAACzI,KAAK,CAACvB,IAAP,CAAf;;AACJ,SAAK,eAAL;AACA,SAAK,YAAL;AACA,SAAK,aAAL;AACI,aAAOuB,KAAK,CAACoE,KAAb;;AACJ,SAAK,kBAAL;AACI,aAAOpE,KAAK,CAACyE,KAAN,CAAYiE,MAAZ,CAAmB,UAAUtE,KAAV,EAAiB3F,IAAjB,EAAuB;AAAE,eAAO1C,MAAM,CAACW,MAAP,CAAc0H,KAAd,EAAqBqE,QAAQ,CAAChK,IAAD,CAA7B,CAAP;AAA8C,OAA1F,EAA4F,EAA5F,CAAP;AATR;AAWH,CAZD;;AAaA,IAAIkK,SAAS,GAAG,SAAZA,SAAY,CAAUjE,CAAV,EAAaN,KAAb,EAAoB;AAChC,MAAI1B,IAAI,GAAG3G,MAAM,CAAC6M,mBAAP,CAA2BlE,CAA3B,CAAX;AACA,MAAImE,WAAW,GAAG,KAAlB;AACA,MAAI3J,CAAC,GAAG,EAAR;;AACA,OAAK,IAAIrC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6F,IAAI,CAAC1F,MAAzB,EAAiCH,CAAC,EAAlC,EAAsC;AAClC,QAAI2B,GAAG,GAAGkE,IAAI,CAAC7F,CAAD,CAAd;;AACA,QAAI,CAACT,cAAc,CAACa,IAAf,CAAoBmH,KAApB,EAA2B5F,GAA3B,CAAL,EAAsC;AAClCqK,MAAAA,WAAW,GAAG,IAAd;AACH,KAFD,MAGK;AACD3J,MAAAA,CAAC,CAACV,GAAD,CAAD,GAASkG,CAAC,CAAClG,GAAD,CAAV;AACH;AACJ;;AACD,SAAOqK,WAAW,GAAG3J,CAAH,GAAOwF,CAAzB;AACH,CAdD;;AAeA,IAAIoE,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAU9I,KAAV,EAAiB;AACpC,MAAII,gBAAgB,CAACJ,KAAD,CAApB,EAA6B;AACzB,WAAO,QAAQqE,gBAAgB,CAACrE,KAAK,CAACoE,KAAP,CAAxB,GAAwC,KAA/C;AACH,GAFD,MAGK,IAAI/D,cAAc,CAACL,KAAD,CAAlB,EAA2B;AAC5B,WAAO+E,kBAAkB,CAAC,QAAQV,gBAAgB,CAACrE,KAAK,CAACoE,KAAP,CAAxB,GAAwC,KAAzC,CAAzB;AACH;;AACD,SAAO,WAAWpE,KAAK,CAACtC,IAAjB,GAAwB,GAA/B;AACH,CARD;AASA;AACA;AACA;AACA;;;AACA,OAAO,IAAIyK,KAAK,GAAG,SAARA,KAAQ,CAAUnI,KAAV,EAAiBtC,IAAjB,EAAuB;AACtC,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAEA,IAAAA,IAAI,GAAGoL,gBAAgB,CAAC9I,KAAD,CAAvB;AAAiC;;AACxD,MAAIoE,KAAK,GAAGqE,QAAQ,CAACzI,KAAD,CAApB;AACA,SAAO,IAAIwI,SAAJ,CAAc9K,IAAd,EAAoBsC,KAAK,CAACrC,EAA1B,EAA8B,UAAU6C,CAAV,EAAarC,CAAb,EAAgB;AAAE,WAAOX,KAAK,CAACmE,aAAa,CAAC/D,QAAd,CAAuB4C,CAAvB,EAA0BrC,CAA1B,CAAD,EAA+B,YAAY;AAAE,aAAOZ,GAAG,CAACyC,KAAK,CAACpC,QAAN,CAAe4C,CAAf,EAAkBrC,CAAlB,CAAD,EAAuB,UAAUC,CAAV,EAAa;AAAE,eAAOuK,SAAS,CAACvK,CAAD,EAAIgG,KAAJ,CAAhB;AAA6B,OAAnE,CAAV;AAAiF,KAA9H,CAAZ;AAA8I,GAA9L,EAAgM,UAAUhG,CAAV,EAAa;AAAE,WAAO4B,KAAK,CAACnC,MAAN,CAAa8K,SAAS,CAACvK,CAAD,EAAIgG,KAAJ,CAAtB,CAAP;AAA2C,GAA1P,EAA4PpE,KAA5P,CAAP;AACH,CAJM;AAKP;AACA;AACA;AACA;AACAS,QAAQ,IAAIsI,IAJZ;AAKA;AACA;AACA;AACA;AACApI,aAAa,IAAIwE,SAJjB;AAKA;AACA;AACA;AACA;AACA;AACA;AACA1D,YAAY,IAAIvF,KANhB;AAOA;AACA;AACA;AACA;AACAuC,IAAI,IAAIuK,SAJR;AAKA;AACA;AACA;AACA;AACAnI,QAAQ,IAAIoI,IAJZ;AAKA;AACA;AACA;AACA;;AACA,OAAO,IAAIC;AAAmB;AAAD,EAA8B,SAAhDA;AAAmB;AAA6B,CAAU7J,KAAV,EAAiBC,OAAjB,EAA0B;AAAE,SAAQ;AAC3FD,IAAAA,KAAK,EAAEA,KADoF;AAE3FC,IAAAA,OAAO,EAAEA;AAFkF,GAAR;AAGlF,CAHE;AAIP;AACA;AACA;AACA;;AACA,OAAO,IAAI6J;AAAkB;AAAD,EAA8B,SAA/CA;AAAkB;AAA6B,CAAUpK,OAAV,EAAmB;AAAE,SAAO,CAClF;AAAEP,IAAAA,GAAG,EAAE,EAAP;AAAWC,IAAAA,IAAI,EAAEM;AAAjB,GADkF,CAAP;AAE3E,CAFG;AAGP;AACA;AACA;AACA;;AACA,IAAIqK,SAAS;AAAG;AAAe,UAAU7I,MAAV,EAAkB;AAC7C5E,EAAAA,SAAS,CAACyN,SAAD,EAAY7I,MAAZ,CAAT;;AACA,WAAS6I,SAAT,GAAqB;AACjB,QAAIlL,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkB,OAAlB,EAA2B,UAAU8D,CAAV,EAAa;AAAE,aAAO,KAAP;AAAe,KAAzD,EAA2D,UAAUP,CAAV,EAAarC,CAAb,EAAgB;AAAE,aAAOiB,OAAO,CAACoB,CAAD,EAAIrC,CAAJ,CAAd;AAAuB,KAApG;AACZ;AACA,gBAAY;AACR,YAAM,IAAIyI,KAAJ,CAAU,qBAAV,CAAN;AACH,KAJW,KAIN,IAJN;;AAKA1I,IAAAA,KAAK,CAAC+B,IAAN,GAAa,WAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAOkL,SAAP;AACH,CAZ8B,CAY7B3L,IAZ6B,CAA/B;;AAaA,SAAS2L,SAAT;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIC,KAAK,GAAG,IAAID,SAAJ,EAAZ;AACP;AACA;AACA;AACA;;AACA,IAAIE,OAAO;AAAG;AAAe,UAAU/I,MAAV,EAAkB;AAC3C5E,EAAAA,SAAS,CAAC2N,OAAD,EAAU/I,MAAV,CAAT;;AACA,WAAS+I,OAAT,GAAmB;AACf,QAAIpL,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkB,KAAlB,EAAyB,UAAU8D,CAAV,EAAa;AAAE,aAAO,IAAP;AAAc,KAAtD,EAAwDvB,OAAxD,EAAiEnB,QAAjE,KAA8E,IAA1F;;AACAH,IAAAA,KAAK,CAAC+B,IAAN,GAAa,SAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAOoL,OAAP;AACH,CAR4B,CAQ3B7L,IAR2B,CAA7B;;AASA,SAAS6L,OAAT;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIC,GAAG,GAAG,IAAID,OAAJ,EAAV;AACP;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIE,UAAU,GAAG7H,aAAjB;AACP;AACA;AACA;AACA;;AACA,IAAI8H,UAAU;AAAG;AAAe,UAAUlJ,MAAV,EAAkB;AAC9C5E,EAAAA,SAAS,CAAC8N,UAAD,EAAalJ,MAAb,CAAT;;AACA,WAASkJ,UAAT,GAAsB;AAClB,QAAIvL,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkB,QAAlB,EAA4B0E,aAAa,CAAChE,EAA1C,EAA8CgE,aAAa,CAAC/D,QAA5D,EAAsES,QAAtE,KAAmF,IAA/F;;AACAH,IAAAA,KAAK,CAAC+B,IAAN,GAAa,YAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAOuL,UAAP;AACH,CAR+B,CAQ9BhM,IAR8B,CAAhC;;AASA,SAASgM,UAAT;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIC,MAAM,GAAG,IAAID,UAAJ,EAAb;AACP;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASxH,UAAT,CAAoBjC,KAApB,EAA2B+B,SAA3B,EAAsCrE,IAAtC,EAA4C;AAC/C,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAEA,IAAAA,IAAI,GAAG,MAAMsC,KAAK,CAACtC,IAAZ,GAAmB,KAAnB,GAA2BiB,eAAe,CAACoD,SAAD,CAA1C,GAAwD,GAA/D;AAAqE;;AAC5F,SAAO,IAAID,cAAJ,CAAmBpE,IAAnB,EAAyB,UAAU8C,CAAV,EAAa;AAAE,WAAOR,KAAK,CAACrC,EAAN,CAAS6C,CAAT,KAAeuB,SAAS,CAACvB,CAAD,CAA/B;AAAqC,GAA7E,EAA+E,UAAU3D,CAAV,EAAasB,CAAb,EAAgB;AAAE,WAAOX,KAAK,CAACwC,KAAK,CAACpC,QAAN,CAAef,CAAf,EAAkBsB,CAAlB,CAAD,EAAuB,UAAUC,CAAV,EAAa;AAAE,aAAQ2D,SAAS,CAAC3D,CAAD,CAAT,GAAeoB,OAAO,CAACpB,CAAD,CAAtB,GAA4BgB,OAAO,CAAChB,CAAD,EAAID,CAAJ,CAA3C;AAAqD,KAA3F,CAAZ;AAA2G,GAA5M,EAA8M6B,KAAK,CAACnC,MAApN,EAA4NmC,KAA5N,EAAmO+B,SAAnO,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAI4H,OAAO,GAAG1H,UAAU,CAACb,MAAD,EAASe,MAAM,CAACC,SAAhB,EAA2B,SAA3B,CAAxB;AACP;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIwH,UAAU,GAAGlE,MAAjB;AACP;AACA;AACA;AACA;;AACA,IAAImE,UAAU;AAAG;AAAe,UAAUtJ,MAAV,EAAkB;AAC9C5E,EAAAA,SAAS,CAACkO,UAAD,EAAatJ,MAAb,CAAT;;AACA,WAASsJ,UAAT,CAAoBnM,IAApB,EACA;AACAC,EAAAA,EAFA,EAGA;AACAC,EAAAA,QAJA,EAKA;AACAC,EAAAA,MANA,EAMQuG,KANR,EAMe;AACX,QAAIlG,KAAK,GAAGqC,MAAM,CAACtD,IAAP,CAAY,IAAZ,EAAkBS,IAAlB,EAAwBC,EAAxB,EAA4BC,QAA5B,EAAsCC,MAAtC,KAAiD,IAA7D;;AACAK,IAAAA,KAAK,CAACkG,KAAN,GAAcA,KAAd;AACAlG,IAAAA,KAAK,CAAC+B,IAAN,GAAa,YAAb;AACA,WAAO/B,KAAP;AACH;;AACD,SAAO2L,UAAP;AACH,CAf+B,CAe9BpM,IAf8B,CAAhC;;AAgBA,SAASoM,UAAT;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,KAAT,CAAe9J,KAAf,EAAsB;AACzB,SAAOA,KAAP;AACH;AACD,OAAO,SAAS+J,KAAT,CAAe/J,KAAf,EAAsB;AACzB,SAAO,YAAY;AAAE,WAAOA,KAAP;AAAe,GAApC;AACH;;AACD,IAAIgK,UAAU,GAAG,SAAbA,UAAa,CAAUpG,EAAV,EAAc;AAAE,SAAOA,EAAE,CAAC5G,MAAH,GAAY,CAAnB;AAAuB,CAAxD;AACA;AACA;AACA;;;AACA,OAAO,IAAIiN,SAAS,GAAG,EAAhB;;AACP,SAASC,SAAT,CAAmB9L,CAAnB,EAAsBtC,CAAtB,EAAyB;AACrB,MAAIoD,CAAC,GAAG,EAAR;;AACA,OAAK,IAAI4H,EAAE,GAAG,CAAT,EAAYqD,GAAG,GAAG/L,CAAvB,EAA0B0I,EAAE,GAAGqD,GAAG,CAACnN,MAAnC,EAA2C8J,EAAE,EAA7C,EAAiD;AAC7C,QAAIsD,CAAC,GAAGD,GAAG,CAACrD,EAAD,CAAX;;AACA,QAAIhL,CAAC,CAAC4K,OAAF,CAAU0D,CAAV,MAAiB,CAAC,CAAtB,EAAyB;AACrBlL,MAAAA,CAAC,CAACW,IAAF,CAAOuK,CAAP;AACH;AACJ;;AACD,SAAOlL,CAAP;AACH;;AACD,SAASmL,SAAT,CAAmBjM,CAAnB,EAAsBtC,CAAtB,EAAyB;AACrB,MAAIsC,CAAC,KAAK6L,SAAV,EAAqB;AACjB,WAAOnO,CAAP;AACH;;AACD,MAAIA,CAAC,KAAKmO,SAAV,EAAqB;AACjB,WAAO7L,CAAP;AACH;;AACD,MAAIc,CAAC,GAAGnD,MAAM,CAACW,MAAP,CAAc,EAAd,EAAkB0B,CAAlB,CAAR;;AACA,OAAK,IAAIwE,CAAT,IAAc9G,CAAd,EAAiB;AACb,QAAIsC,CAAC,CAAChC,cAAF,CAAiBwG,CAAjB,CAAJ,EAAyB;AACrB,UAAI0H,cAAc,GAAGJ,SAAS,CAAC9L,CAAC,CAACwE,CAAD,CAAF,EAAO9G,CAAC,CAAC8G,CAAD,CAAR,CAA9B;;AACA,UAAIoH,UAAU,CAACM,cAAD,CAAd,EAAgC;AAC5BpL,QAAAA,CAAC,CAAC0D,CAAD,CAAD,GAAO0H,cAAP;AACH,OAFD,MAGK;AACDpL,QAAAA,CAAC,GAAG+K,SAAJ;AACA;AACH;AACJ,KATD,MAUK;AACD/K,MAAAA,CAAC,CAAC0D,CAAD,CAAD,GAAO9G,CAAC,CAAC8G,CAAD,CAAR;AACH;AACJ;;AACD,SAAO1D,CAAP;AACH;;AACD,SAASqL,aAAT,CAAuBnM,CAAvB,EAA0BtC,CAA1B,EAA6B;AACzB,MAAIsC,CAAC,KAAK6L,SAAN,IAAmBnO,CAAC,KAAKmO,SAA7B,EAAwC;AACpC,WAAOA,SAAP;AACH;;AACD,MAAI/K,CAAC,GAAG+K,SAAR;;AACA,OAAK,IAAIrH,CAAT,IAAcxE,CAAd,EAAiB;AACb,QAAItC,CAAC,CAACM,cAAF,CAAiBwG,CAAjB,CAAJ,EAAyB;AACrB,UAAI4H,cAAc,GAAGN,SAAS,CAAC9L,CAAC,CAACwE,CAAD,CAAF,EAAO9G,CAAC,CAAC8G,CAAD,CAAR,CAA9B;;AACA,UAAI4H,cAAc,CAACxN,MAAf,KAA0B,CAA9B,EAAiC;AAC7B,YAAIkC,CAAC,KAAK+K,SAAV,EAAqB;AACjB/K,UAAAA,CAAC,GAAG,EAAJ;AACH;;AACDA,QAAAA,CAAC,CAAC0D,CAAD,CAAD,GAAOxE,CAAC,CAACwE,CAAD,CAAD,CAAK6H,MAAL,CAAY3O,CAAC,CAAC8G,CAAD,CAAb,CAAP;AACH;AACJ;AACJ;;AACD,SAAO1D,CAAP;AACH;;AACD,SAASwL,UAAT,CAAoB1K,KAApB,EAA2B;AACvB,SAAOA,KAAK,CAACC,IAAN,KAAe,aAAtB;AACH;;AACD,SAAS0K,OAAT,CAAiB3K,KAAjB,EAAwB;AACpB,SAAOA,KAAK,CAACC,IAAN,KAAe,eAAtB;AACH,C,CACD;;;AACA,SAAS2K,SAAT,CAAmB5K,KAAnB,EAA0B;AACtB,SAAOA,KAAK,CAACC,IAAN,KAAe,YAAtB;AACH;;AACD,SAAS4K,QAAT,CAAkB7K,KAAlB,EAAyB;AACrB,SAAOA,KAAK,CAACC,IAAN,KAAe,WAAtB;AACH,C,CACD;;;AACA,SAAS6K,aAAT,CAAuB9K,KAAvB,EAA8B;AAC1B,SAAOA,KAAK,CAACC,IAAN,KAAe,gBAAtB;AACH;;AACD,SAAS8K,eAAT,CAAyB/K,KAAzB,EAAgC;AAC5B,SAAOA,KAAK,CAACC,IAAN,KAAe,kBAAtB;AACH;;AACD,SAAS+K,QAAT,CAAkBhL,KAAlB,EAAyB;AACrB,SAAOA,KAAK,CAACC,IAAN,KAAe,WAAtB;AACH;;AACD,SAASgL,YAAT,CAAsBjL,KAAtB,EAA6B;AACzB,SAAOA,KAAK,CAACC,IAAN,KAAe,eAAtB;AACH;;AACD,IAAIiL,UAAU,GAAG,EAAjB;AACA;AACA;AACA;;AACA,OAAO,SAASC,OAAT,CAAiBnL,KAAjB,EAAwB;AAC3B,MAAIkL,UAAU,CAACxE,OAAX,CAAmB1G,KAAnB,MAA8B,CAAC,CAAnC,EAAsC;AAClC,WAAOiK,SAAP;AACH;;AACD,MAAIU,OAAO,CAAC3K,KAAD,CAAP,IAAkB4K,SAAS,CAAC5K,KAAD,CAA/B,EAAwC;AACpC,QAAIoG,KAAK,GAAG6D,SAAZ,CADoC,CAEpC;;AACA,SAAK,IAAIrH,CAAT,IAAc5C,KAAK,CAACoE,KAApB,EAA2B;AACvB,UAAIgH,IAAI,GAAGpL,KAAK,CAACoE,KAAN,CAAYxB,CAAZ,CAAX;;AACA,UAAI8H,UAAU,CAACU,IAAD,CAAd,EAAsB;AAClB,YAAIhF,KAAK,KAAK6D,SAAd,EAAyB;AACrB7D,UAAAA,KAAK,GAAG,EAAR;AACH;;AACDA,QAAAA,KAAK,CAACxD,CAAD,CAAL,GAAW,CAACwI,IAAI,CAAC/L,KAAN,CAAX;AACH;AACJ;;AACD,WAAO+G,KAAP;AACH,GAbD,MAcK,IAAIyE,QAAQ,CAAC7K,KAAD,CAAR,IAAmB8K,aAAa,CAAC9K,KAAD,CAApC,EAA6C;AAC9C,WAAOmL,OAAO,CAACnL,KAAK,CAACvB,IAAP,CAAd;AACH,GAFI,MAGA,IAAIsM,eAAe,CAAC/K,KAAD,CAAnB,EAA4B;AAC7B,WAAOA,KAAK,CAACyE,KAAN,CAAYiE,MAAZ,CAAmB,UAAU2C,IAAV,EAAgBrL,KAAhB,EAAuB;AAAE,aAAOqK,SAAS,CAACgB,IAAD,EAAOF,OAAO,CAACnL,KAAD,CAAd,CAAhB;AAAyC,KAArF,EAAuFiK,SAAvF,CAAP;AACH,GAFI,MAGA,IAAIe,QAAQ,CAAChL,KAAD,CAAZ,EAAqB;AACtB,WAAOA,KAAK,CAACyE,KAAN,CAAYP,KAAZ,CAAkB,CAAlB,EAAqBwE,MAArB,CAA4B,UAAU2C,IAAV,EAAgBrL,KAAhB,EAAuB;AAAE,aAAOuK,aAAa,CAACc,IAAD,EAAOF,OAAO,CAACnL,KAAD,CAAd,CAApB;AAA6C,KAAlG,EAAoGmL,OAAO,CAACnL,KAAK,CAACyE,KAAN,CAAY,CAAZ,CAAD,CAA3G,CAAP;AACH,GAFI,MAGA,IAAIwG,YAAY,CAACjL,KAAD,CAAhB,EAAyB;AAC1BkL,IAAAA,UAAU,CAACrL,IAAX,CAAgBG,KAAhB;AACA,QAAIqL,IAAI,GAAGF,OAAO,CAACnL,KAAK,CAACvB,IAAP,CAAlB;AACAyM,IAAAA,UAAU,CAACI,GAAX;AACA,WAAOD,IAAP;AACH;;AACD,SAAOpB,SAAP;AACH;AACD;AACA;AACA;;AACA,OAAO,SAAS5D,QAAT,CAAkB9B,MAAlB,EAA0B;AAC7B,MAAI8G,IAAI,GAAGF,OAAO,CAAC5G,MAAM,CAAC,CAAD,CAAP,CAAlB;AACA,MAAI7B,IAAI,GAAG3G,MAAM,CAAC2G,IAAP,CAAY2I,IAAZ,CAAX;AACA,MAAIpM,GAAG,GAAGsF,MAAM,CAACvH,MAAjB;;AACA,MAAIuO,OAAO,GAAG,SAAVA,OAAU,CAAU3I,CAAV,EAAa;AACvB,QAAI4I,GAAG,GAAGH,IAAI,CAACzI,CAAD,CAAJ,CAAQsB,KAAR,EAAV;AACA,QAAIkC,KAAK,GAAG,CAACiF,IAAI,CAACzI,CAAD,CAAL,CAAZ;;AACA,SAAK,IAAI/F,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoC,GAApB,EAAyBpC,CAAC,EAA1B,EAA8B;AAC1B,UAAImD,KAAK,GAAGuE,MAAM,CAAC1H,CAAD,CAAlB;AACA,UAAI4O,KAAK,GAAGN,OAAO,CAACnL,KAAD,CAAnB;AACA,UAAI0L,MAAM,GAAGD,KAAK,CAAC7I,CAAD,CAAlB,CAH0B,CAI1B;;AACA,UAAI8I,MAAM,KAAKvG,SAAf,EAA0B;AACtB,eAAO,eAAP;AACH,OAFD,MAGK;AACD,YAAIuG,MAAM,CAAC7E,IAAP,CAAY,UAAUuD,CAAV,EAAa;AAAE,iBAAOoB,GAAG,CAAC9E,OAAJ,CAAY0D,CAAZ,MAAmB,CAAC,CAA3B;AAA+B,SAA1D,CAAJ,EAAiE;AAC7D,iBAAO,eAAP;AACH,SAFD,MAGK;AACDoB,UAAAA,GAAG,CAAC3L,IAAJ,CAAS3C,KAAT,CAAesO,GAAf,EAAoBE,MAApB;AACAtF,UAAAA,KAAK,CAACvG,IAAN,CAAW6L,MAAX;AACH;AACJ;AACJ;;AACD,WAAO;AAAErM,MAAAA,KAAK,EAAE,CAACuD,CAAD,EAAIwD,KAAJ;AAAT,KAAP;AACH,GAtBD;;AAuBA1D,EAAAA,IAAI,EAAE,KAAK,IAAIoE,EAAE,GAAG,CAAT,EAAY6E,MAAM,GAAGjJ,IAA1B,EAAgCoE,EAAE,GAAG6E,MAAM,CAAC3O,MAA5C,EAAoD8J,EAAE,EAAtD,EAA0D;AAC5D,QAAIlE,CAAC,GAAG+I,MAAM,CAAC7E,EAAD,CAAd;;AACA,QAAI8E,OAAO,GAAGL,OAAO,CAAC3I,CAAD,CAArB;;AACA,QAAI,OAAOgJ,OAAP,KAAmB,QAAvB,EACI,OAAOA,OAAO,CAACvM,KAAf;;AACJ,YAAQuM,OAAR;AACI,WAAK,eAAL;AAAsB,iBAASlJ,IAAT;AAD1B;AAGH;;AACD,SAAOyC,SAAP;AACH","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { either, isLeft, left, right } from 'fp-ts/lib/Either';\nvar map = either.map;\nvar chain = either.chain;\n/**\n * @since 1.0.0\n */\nvar Type = /** @class */ (function () {\n    function Type(\n    /** a unique name for this codec */\n    name, \n    /** a custom type guard */\n    is, \n    /** succeeds if a value of type I can be decoded to a value of type A */\n    validate, \n    /** converts a value of type A to a value of type O */\n    encode) {\n        this.name = name;\n        this.is = is;\n        this.validate = validate;\n        this.encode = encode;\n        this.decode = this.decode.bind(this);\n    }\n    /**\n     * @since 1.0.0\n     */\n    Type.prototype.pipe = function (ab, name) {\n        var _this = this;\n        if (name === void 0) { name = \"pipe(\" + this.name + \", \" + ab.name + \")\"; }\n        return new Type(name, ab.is, function (i, c) { return chain(_this.validate(i, c), function (a) { return ab.validate(a, c); }); }, this.encode === identity && ab.encode === identity ? identity : function (b) { return _this.encode(ab.encode(b)); });\n    };\n    /**\n     * @since 1.0.0\n     */\n    Type.prototype.asDecoder = function () {\n        return this;\n    };\n    /**\n     * @since 1.0.0\n     */\n    Type.prototype.asEncoder = function () {\n        return this;\n    };\n    /**\n     * a version of `validate` with a default context\n     * @since 1.0.0\n     */\n    Type.prototype.decode = function (i) {\n        return this.validate(i, [{ key: '', type: this, actual: i }]);\n    };\n    return Type;\n}());\nexport { Type };\n/**\n * @since 1.0.0\n */\nexport var identity = function (a) { return a; };\n/**\n * @since 1.0.0\n */\nexport var getFunctionName = function (f) {\n    return f.displayName || f.name || \"<function\" + f.length + \">\";\n};\n/**\n * @since 1.0.0\n */\nexport var getContextEntry = function (key, decoder) { return ({ key: key, type: decoder }); };\n/**\n * @since 1.0.0\n */\nexport var appendContext = function (c, key, decoder, actual) {\n    var len = c.length;\n    var r = Array(len + 1);\n    for (var i = 0; i < len; i++) {\n        r[i] = c[i];\n    }\n    r[len] = { key: key, type: decoder, actual: actual };\n    return r;\n};\n/**\n * @since 1.0.0\n */\nexport var failures = left;\n/**\n * @since 1.0.0\n */\nexport var failure = function (value, context, message) {\n    return failures([{ value: value, context: context, message: message }]);\n};\n/**\n * @since 1.0.0\n */\nexport var success = right;\nvar pushAll = function (xs, ys) {\n    var l = ys.length;\n    for (var i = 0; i < l; i++) {\n        xs.push(ys[i]);\n    }\n};\nvar getIsCodec = function (tag) { return function (codec) { return codec._tag === tag; }; };\nvar isUnknownCodec = getIsCodec('UnknownType');\n// tslint:disable-next-line: deprecation\nvar isAnyCodec = getIsCodec('AnyType');\nvar isInterfaceCodec = getIsCodec('InterfaceType');\nvar isPartialCodec = getIsCodec('PartialType');\n//\n// basic types\n//\n/**\n * @since 1.0.0\n */\nvar NullType = /** @class */ (function (_super) {\n    __extends(NullType, _super);\n    function NullType() {\n        var _this = _super.call(this, 'null', function (u) { return u === null; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        _this._tag = 'NullType';\n        return _this;\n    }\n    return NullType;\n}(Type));\nexport { NullType };\n/**\n * @since 1.0.0\n */\nexport var nullType = new NullType();\n/**\n * @since 1.0.0\n */\nvar UndefinedType = /** @class */ (function (_super) {\n    __extends(UndefinedType, _super);\n    function UndefinedType() {\n        var _this = _super.call(this, 'undefined', function (u) { return u === void 0; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        _this._tag = 'UndefinedType';\n        return _this;\n    }\n    return UndefinedType;\n}(Type));\nexport { UndefinedType };\nvar undefinedType = new UndefinedType();\n/**\n * @since 1.2.0\n */\nvar VoidType = /** @class */ (function (_super) {\n    __extends(VoidType, _super);\n    function VoidType() {\n        var _this = _super.call(this, 'void', undefinedType.is, undefinedType.validate, identity) || this;\n        _this._tag = 'VoidType';\n        return _this;\n    }\n    return VoidType;\n}(Type));\nexport { VoidType };\n/**\n * @since 1.2.0\n */\nexport var voidType = new VoidType();\n/**\n * @since 1.5.0\n */\nvar UnknownType = /** @class */ (function (_super) {\n    __extends(UnknownType, _super);\n    function UnknownType() {\n        var _this = _super.call(this, 'unknown', function (_) { return true; }, success, identity) || this;\n        _this._tag = 'UnknownType';\n        return _this;\n    }\n    return UnknownType;\n}(Type));\nexport { UnknownType };\n/**\n * @since 1.5.0\n */\nexport var unknown = new UnknownType();\n/**\n * @since 1.0.0\n */\nvar StringType = /** @class */ (function (_super) {\n    __extends(StringType, _super);\n    function StringType() {\n        var _this = _super.call(this, 'string', function (u) { return typeof u === 'string'; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        _this._tag = 'StringType';\n        return _this;\n    }\n    return StringType;\n}(Type));\nexport { StringType };\n/**\n * @since 1.0.0\n */\nexport var string = new StringType();\n/**\n * @since 1.0.0\n */\nvar NumberType = /** @class */ (function (_super) {\n    __extends(NumberType, _super);\n    function NumberType() {\n        var _this = _super.call(this, 'number', function (u) { return typeof u === 'number'; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        _this._tag = 'NumberType';\n        return _this;\n    }\n    return NumberType;\n}(Type));\nexport { NumberType };\n/**\n * @since 1.0.0\n */\nexport var number = new NumberType();\n/**\n * @since 1.0.0\n */\nvar BooleanType = /** @class */ (function (_super) {\n    __extends(BooleanType, _super);\n    function BooleanType() {\n        var _this = _super.call(this, 'boolean', function (u) { return typeof u === 'boolean'; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        _this._tag = 'BooleanType';\n        return _this;\n    }\n    return BooleanType;\n}(Type));\nexport { BooleanType };\n/**\n * @since 1.0.0\n */\nexport var boolean = new BooleanType();\n/**\n * @since 1.0.0\n */\nvar AnyArrayType = /** @class */ (function (_super) {\n    __extends(AnyArrayType, _super);\n    function AnyArrayType() {\n        var _this = _super.call(this, 'UnknownArray', Array.isArray, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        _this._tag = 'AnyArrayType';\n        return _this;\n    }\n    return AnyArrayType;\n}(Type));\nexport { AnyArrayType };\n/**\n * @since 1.7.1\n */\nexport var UnknownArray = new AnyArrayType();\n/**\n * @since 1.0.0\n */\nvar AnyDictionaryType = /** @class */ (function (_super) {\n    __extends(AnyDictionaryType, _super);\n    function AnyDictionaryType() {\n        var _this = _super.call(this, 'UnknownRecord', function (u) { return u !== null && typeof u === 'object'; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        _this._tag = 'AnyDictionaryType';\n        return _this;\n    }\n    return AnyDictionaryType;\n}(Type));\nexport { AnyDictionaryType };\n/**\n * @since 1.7.1\n */\nexport var UnknownRecord = new AnyDictionaryType();\n/**\n * @since 1.0.0\n * @deprecated\n */\nvar FunctionType = /** @class */ (function (_super) {\n    __extends(FunctionType, _super);\n    function FunctionType() {\n        var _this = _super.call(this, 'Function', \n        // tslint:disable-next-line:strict-type-predicates\n        function (u) { return typeof u === 'function'; }, function (u, c) { return (_this.is(u) ? success(u) : failure(u, c)); }, identity) || this;\n        _this._tag = 'FunctionType';\n        return _this;\n    }\n    return FunctionType;\n}(Type));\nexport { FunctionType };\n/**\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\nexport var Function = new FunctionType();\n/**\n * @since 1.0.0\n */\nvar RefinementType = /** @class */ (function (_super) {\n    __extends(RefinementType, _super);\n    function RefinementType(name, is, validate, encode, type, predicate) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.type = type;\n        _this.predicate = predicate;\n        _this._tag = 'RefinementType';\n        return _this;\n    }\n    return RefinementType;\n}(Type));\nexport { RefinementType };\n/**\n * @since 1.8.1\n */\nexport var brand = function (codec, predicate, name) {\n    // tslint:disable-next-line: deprecation\n    return refinement(codec, predicate, name);\n};\n/**\n * A branded codec representing an integer\n * @since 1.8.1\n */\nexport var Int = brand(number, function (n) { return Number.isInteger(n); }, 'Int');\n/**\n * @since 1.0.0\n */\nvar LiteralType = /** @class */ (function (_super) {\n    __extends(LiteralType, _super);\n    function LiteralType(name, is, validate, encode, value) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.value = value;\n        _this._tag = 'LiteralType';\n        return _this;\n    }\n    return LiteralType;\n}(Type));\nexport { LiteralType };\n/**\n * @since 1.0.0\n */\nexport var literal = function (value, name) {\n    if (name === void 0) { name = JSON.stringify(value); }\n    var is = function (u) { return u === value; };\n    return new LiteralType(name, is, function (u, c) { return (is(u) ? success(value) : failure(u, c)); }, identity, value);\n};\n/**\n * @since 1.0.0\n */\nvar KeyofType = /** @class */ (function (_super) {\n    __extends(KeyofType, _super);\n    function KeyofType(name, is, validate, encode, keys) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.keys = keys;\n        _this._tag = 'KeyofType';\n        return _this;\n    }\n    return KeyofType;\n}(Type));\nexport { KeyofType };\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n/**\n * @since 1.0.0\n */\nexport var keyof = function (keys, name) {\n    if (name === void 0) { name = Object.keys(keys)\n        .map(function (k) { return JSON.stringify(k); })\n        .join(' | '); }\n    var is = function (u) { return string.is(u) && hasOwnProperty.call(keys, u); };\n    return new KeyofType(name, is, function (u, c) { return (is(u) ? success(u) : failure(u, c)); }, identity, keys);\n};\n/**\n * @since 1.0.0\n */\nvar RecursiveType = /** @class */ (function (_super) {\n    __extends(RecursiveType, _super);\n    function RecursiveType(name, is, validate, encode, runDefinition) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.runDefinition = runDefinition;\n        _this._tag = 'RecursiveType';\n        return _this;\n    }\n    Object.defineProperty(RecursiveType.prototype, \"type\", {\n        get: function () {\n            return this.runDefinition();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RecursiveType;\n}(Type));\nexport { RecursiveType };\n/**\n * @since 1.0.0\n */\nexport var recursion = function (name, definition) {\n    var cache;\n    var runDefinition = function () {\n        if (!cache) {\n            cache = definition(Self);\n            cache.name = name;\n        }\n        return cache;\n    };\n    var Self = new RecursiveType(name, function (u) { return runDefinition().is(u); }, function (u, c) { return runDefinition().validate(u, c); }, function (a) { return runDefinition().encode(a); }, runDefinition);\n    return Self;\n};\n/**\n * @since 1.0.0\n */\nvar ArrayType = /** @class */ (function (_super) {\n    __extends(ArrayType, _super);\n    function ArrayType(name, is, validate, encode, type) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.type = type;\n        _this._tag = 'ArrayType';\n        return _this;\n    }\n    return ArrayType;\n}(Type));\nexport { ArrayType };\n/**\n * @since 1.0.0\n */\nexport var array = function (codec, name) {\n    if (name === void 0) { name = \"Array<\" + codec.name + \">\"; }\n    return new ArrayType(name, function (u) { return UnknownArray.is(u) && u.every(codec.is); }, function (u, c) {\n        return chain(UnknownArray.validate(u, c), function (us) {\n            var len = us.length;\n            var as = us;\n            var errors = [];\n            for (var i = 0; i < len; i++) {\n                var ui = us[i];\n                var result = codec.validate(ui, appendContext(c, String(i), codec, ui));\n                if (isLeft(result)) {\n                    pushAll(errors, result.left);\n                }\n                else {\n                    var ai = result.right;\n                    if (ai !== ui) {\n                        if (as === us) {\n                            as = us.slice();\n                        }\n                        as[i] = ai;\n                    }\n                }\n            }\n            return errors.length > 0 ? failures(errors) : success(as);\n        });\n    }, codec.encode === identity ? identity : function (a) { return a.map(codec.encode); }, codec);\n};\n/**\n * @since 1.0.0\n */\nvar InterfaceType = /** @class */ (function (_super) {\n    __extends(InterfaceType, _super);\n    function InterfaceType(name, is, validate, encode, props) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.props = props;\n        _this._tag = 'InterfaceType';\n        return _this;\n    }\n    return InterfaceType;\n}(Type));\nexport { InterfaceType };\nvar getNameFromProps = function (props) {\n    return Object.keys(props)\n        .map(function (k) { return k + \": \" + props[k].name; })\n        .join(', ');\n};\nvar useIdentity = function (codecs) {\n    for (var i = 0; i < codecs.length; i++) {\n        if (codecs[i].encode !== identity) {\n            return false;\n        }\n    }\n    return true;\n};\nvar getInterfaceTypeName = function (props) {\n    return \"{ \" + getNameFromProps(props) + \" }\";\n};\n/**\n * @since 1.0.0\n */\nexport var type = function (props, name) {\n    if (name === void 0) { name = getInterfaceTypeName(props); }\n    var keys = Object.keys(props);\n    var types = keys.map(function (key) { return props[key]; });\n    var len = keys.length;\n    return new InterfaceType(name, function (u) {\n        if (!UnknownRecord.is(u)) {\n            return false;\n        }\n        for (var i = 0; i < len; i++) {\n            var k = keys[i];\n            if (!hasOwnProperty.call(u, k) || !types[i].is(u[k])) {\n                return false;\n            }\n        }\n        return true;\n    }, function (u, c) {\n        return chain(UnknownRecord.validate(u, c), function (o) {\n            var a = o;\n            var errors = [];\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                if (!hasOwnProperty.call(a, k)) {\n                    if (a === o) {\n                        a = __assign({}, o);\n                    }\n                    a[k] = a[k];\n                }\n                var ak = a[k];\n                var type_1 = types[i];\n                var result = type_1.validate(ak, appendContext(c, k, type_1, ak));\n                if (isLeft(result)) {\n                    pushAll(errors, result.left);\n                }\n                else {\n                    var vak = result.right;\n                    if (vak !== ak) {\n                        /* istanbul ignore next */\n                        if (a === o) {\n                            a = __assign({}, o);\n                        }\n                        a[k] = vak;\n                    }\n                }\n            }\n            return errors.length > 0 ? failures(errors) : success(a);\n        });\n    }, useIdentity(types)\n        ? identity\n        : function (a) {\n            var s = __assign({}, a);\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var encode = types[i].encode;\n                if (encode !== identity) {\n                    s[k] = encode(a[k]);\n                }\n            }\n            return s;\n        }, props);\n};\n/**\n * @since 1.0.0\n */\nvar PartialType = /** @class */ (function (_super) {\n    __extends(PartialType, _super);\n    function PartialType(name, is, validate, encode, props) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.props = props;\n        _this._tag = 'PartialType';\n        return _this;\n    }\n    return PartialType;\n}(Type));\nexport { PartialType };\nvar getPartialTypeName = function (inner) {\n    return \"Partial<\" + inner + \">\";\n};\n/**\n * @since 1.0.0\n */\nexport var partial = function (props, name) {\n    if (name === void 0) { name = getPartialTypeName(getInterfaceTypeName(props)); }\n    var keys = Object.keys(props);\n    var types = keys.map(function (key) { return props[key]; });\n    var len = keys.length;\n    return new PartialType(name, function (u) {\n        if (!UnknownRecord.is(u)) {\n            return false;\n        }\n        for (var i = 0; i < len; i++) {\n            var k = keys[i];\n            var uk = u[k];\n            if (uk !== undefined && !props[k].is(uk)) {\n                return false;\n            }\n        }\n        return true;\n    }, function (u, c) {\n        return chain(UnknownRecord.validate(u, c), function (o) {\n            var a = o;\n            var errors = [];\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var ak = a[k];\n                var type_2 = props[k];\n                var result = type_2.validate(ak, appendContext(c, k, type_2, ak));\n                if (isLeft(result)) {\n                    if (ak !== undefined) {\n                        pushAll(errors, result.left);\n                    }\n                }\n                else {\n                    var vak = result.right;\n                    if (vak !== ak) {\n                        /* istanbul ignore next */\n                        if (a === o) {\n                            a = __assign({}, o);\n                        }\n                        a[k] = vak;\n                    }\n                }\n            }\n            return errors.length > 0 ? failures(errors) : success(a);\n        });\n    }, useIdentity(types)\n        ? identity\n        : function (a) {\n            var s = __assign({}, a);\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var ak = a[k];\n                if (ak !== undefined) {\n                    s[k] = types[i].encode(ak);\n                }\n            }\n            return s;\n        }, props);\n};\n/**\n * @since 1.0.0\n */\nvar DictionaryType = /** @class */ (function (_super) {\n    __extends(DictionaryType, _super);\n    function DictionaryType(name, is, validate, encode, domain, codomain) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.domain = domain;\n        _this.codomain = codomain;\n        _this._tag = 'DictionaryType';\n        return _this;\n    }\n    return DictionaryType;\n}(Type));\nexport { DictionaryType };\nvar isObject = function (r) { return Object.prototype.toString.call(r) === '[object Object]'; };\n/**\n * @since 1.7.1\n */\nexport var record = function (domain, codomain, name) {\n    if (name === void 0) { name = \"{ [K in \" + domain.name + \"]: \" + codomain.name + \" }\"; }\n    return new DictionaryType(name, function (u) {\n        if (!UnknownRecord.is(u)) {\n            return false;\n        }\n        if (!isUnknownCodec(codomain) && !isAnyCodec(codomain) && !isObject(u)) {\n            return false;\n        }\n        return Object.keys(u).every(function (k) { return domain.is(k) && codomain.is(u[k]); });\n    }, function (u, c) {\n        return chain(UnknownRecord.validate(u, c), function (o) {\n            if (!isUnknownCodec(codomain) && !isAnyCodec(codomain) && !isObject(o)) {\n                return failure(u, c);\n            }\n            var a = {};\n            var errors = [];\n            var keys = Object.keys(o);\n            var len = keys.length;\n            var changed = false;\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                var ok = o[k];\n                var domainResult = domain.validate(k, appendContext(c, k, domain, k));\n                if (isLeft(domainResult)) {\n                    pushAll(errors, domainResult.left);\n                }\n                else {\n                    var vk = domainResult.right;\n                    changed = changed || vk !== k;\n                    k = vk;\n                    var codomainResult = codomain.validate(ok, appendContext(c, k, codomain, ok));\n                    if (isLeft(codomainResult)) {\n                        pushAll(errors, codomainResult.left);\n                    }\n                    else {\n                        var vok = codomainResult.right;\n                        changed = changed || vok !== ok;\n                        a[k] = vok;\n                    }\n                }\n            }\n            return errors.length > 0 ? failures(errors) : success((changed ? a : o));\n        });\n    }, domain.encode === identity && codomain.encode === identity\n        ? identity\n        : function (a) {\n            var s = {};\n            var keys = Object.keys(a);\n            var len = keys.length;\n            for (var i = 0; i < len; i++) {\n                var k = keys[i];\n                s[String(domain.encode(k))] = codomain.encode(a[k]);\n            }\n            return s;\n        }, domain, codomain);\n};\n/**\n * @since 1.0.0\n */\nvar UnionType = /** @class */ (function (_super) {\n    __extends(UnionType, _super);\n    function UnionType(name, is, validate, encode, types) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.types = types;\n        _this._tag = 'UnionType';\n        return _this;\n    }\n    return UnionType;\n}(Type));\nexport { UnionType };\nvar getUnionName = function (codecs) {\n    return '(' + codecs.map(function (type) { return type.name; }).join(' | ') + ')';\n};\n/**\n * @since 1.0.0\n */\nexport var union = function (codecs, name) {\n    if (name === void 0) { name = getUnionName(codecs); }\n    var index = getIndex(codecs);\n    if (index !== undefined && codecs.length > 0) {\n        var tag_1 = index[0], groups_1 = index[1];\n        var len_1 = groups_1.length;\n        var find_1 = function (value) {\n            for (var i = 0; i < len_1; i++) {\n                if (groups_1[i].indexOf(value) !== -1) {\n                    return i;\n                }\n            }\n            return undefined;\n        };\n        // tslint:disable-next-line: deprecation\n        return new TaggedUnionType(name, function (u) {\n            if (!UnknownRecord.is(u)) {\n                return false;\n            }\n            var i = find_1(u[tag_1]);\n            return i !== undefined ? codecs[i].is(u) : false;\n        }, function (u, c) {\n            return chain(UnknownRecord.validate(u, c), function (r) {\n                var i = find_1(r[tag_1]);\n                if (i === undefined) {\n                    return failure(u, c);\n                }\n                var codec = codecs[i];\n                return codec.validate(r, appendContext(c, String(i), codec, r));\n            });\n        }, useIdentity(codecs)\n            ? identity\n            : function (a) {\n                var i = find_1(a[tag_1]);\n                if (i === undefined) {\n                    // https://github.com/gcanti/io-ts/pull/305\n                    throw new Error(\"no codec found to encode value in union codec \" + name);\n                }\n                else {\n                    return codecs[i].encode(a);\n                }\n            }, codecs, tag_1);\n    }\n    else {\n        return new UnionType(name, function (u) { return codecs.some(function (type) { return type.is(u); }); }, function (u, c) {\n            var errors = [];\n            for (var i = 0; i < codecs.length; i++) {\n                var codec = codecs[i];\n                var result = codec.validate(u, appendContext(c, String(i), codec, u));\n                if (isLeft(result)) {\n                    pushAll(errors, result.left);\n                }\n                else {\n                    return success(result.right);\n                }\n            }\n            return failures(errors);\n        }, useIdentity(codecs)\n            ? identity\n            : function (a) {\n                for (var _i = 0, codecs_1 = codecs; _i < codecs_1.length; _i++) {\n                    var codec = codecs_1[_i];\n                    if (codec.is(a)) {\n                        return codec.encode(a);\n                    }\n                }\n                // https://github.com/gcanti/io-ts/pull/305\n                throw new Error(\"no codec found to encode value in union type \" + name);\n            }, codecs);\n    }\n};\n/**\n * @since 1.0.0\n */\nvar IntersectionType = /** @class */ (function (_super) {\n    __extends(IntersectionType, _super);\n    function IntersectionType(name, is, validate, encode, types) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.types = types;\n        _this._tag = 'IntersectionType';\n        return _this;\n    }\n    return IntersectionType;\n}(Type));\nexport { IntersectionType };\nvar mergeAll = function (base, us) {\n    var r = base;\n    for (var i = 0; i < us.length; i++) {\n        var u = us[i];\n        if (u !== base) {\n            // `u` contains a prismatic value or is the result of a stripping combinator\n            if (r === base) {\n                r = Object.assign({}, u);\n                continue;\n            }\n            for (var k in u) {\n                if (u[k] !== base[k] || !r.hasOwnProperty(k)) {\n                    r[k] = u[k];\n                }\n            }\n        }\n    }\n    return r;\n};\nexport function intersection(codecs, name) {\n    if (name === void 0) { name = \"(\" + codecs.map(function (type) { return type.name; }).join(' & ') + \")\"; }\n    var len = codecs.length;\n    return new IntersectionType(name, function (u) { return codecs.every(function (type) { return type.is(u); }); }, codecs.length === 0\n        ? success\n        : function (u, c) {\n            var us = [];\n            var errors = [];\n            for (var i = 0; i < len; i++) {\n                var codec = codecs[i];\n                var result = codec.validate(u, appendContext(c, String(i), codec, u));\n                if (isLeft(result)) {\n                    pushAll(errors, result.left);\n                }\n                else {\n                    us.push(result.right);\n                }\n            }\n            return errors.length > 0 ? failures(errors) : success(mergeAll(u, us));\n        }, codecs.length === 0 ? identity : function (a) { return mergeAll(a, codecs.map(function (codec) { return codec.encode(a); })); }, codecs);\n}\n/**\n * @since 1.0.0\n */\nvar TupleType = /** @class */ (function (_super) {\n    __extends(TupleType, _super);\n    function TupleType(name, is, validate, encode, types) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.types = types;\n        _this._tag = 'TupleType';\n        return _this;\n    }\n    return TupleType;\n}(Type));\nexport { TupleType };\nexport function tuple(codecs, name) {\n    if (name === void 0) { name = \"[\" + codecs.map(function (type) { return type.name; }).join(', ') + \"]\"; }\n    var len = codecs.length;\n    return new TupleType(name, function (u) { return UnknownArray.is(u) && u.length === len && codecs.every(function (type, i) { return type.is(u[i]); }); }, function (u, c) {\n        return chain(UnknownArray.validate(u, c), function (us) {\n            var as = us.length > len ? us.slice(0, len) : us; // strip additional components\n            var errors = [];\n            for (var i = 0; i < len; i++) {\n                var a = us[i];\n                var type_3 = codecs[i];\n                var result = type_3.validate(a, appendContext(c, String(i), type_3, a));\n                if (isLeft(result)) {\n                    pushAll(errors, result.left);\n                }\n                else {\n                    var va = result.right;\n                    if (va !== a) {\n                        /* istanbul ignore next */\n                        if (as === us) {\n                            as = us.slice();\n                        }\n                        as[i] = va;\n                    }\n                }\n            }\n            return errors.length > 0 ? failures(errors) : success(as);\n        });\n    }, useIdentity(codecs) ? identity : function (a) { return codecs.map(function (type, i) { return type.encode(a[i]); }); }, codecs);\n}\n/**\n * @since 1.0.0\n */\nvar ReadonlyType = /** @class */ (function (_super) {\n    __extends(ReadonlyType, _super);\n    function ReadonlyType(name, is, validate, encode, type) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.type = type;\n        _this._tag = 'ReadonlyType';\n        return _this;\n    }\n    return ReadonlyType;\n}(Type));\nexport { ReadonlyType };\n/**\n * @since 1.0.0\n */\nexport var readonly = function (codec, name) {\n    if (name === void 0) { name = \"Readonly<\" + codec.name + \">\"; }\n    return new ReadonlyType(name, codec.is, function (u, c) {\n        return map(codec.validate(u, c), function (x) {\n            if (process.env.NODE_ENV !== 'production') {\n                return Object.freeze(x);\n            }\n            return x;\n        });\n    }, codec.encode === identity ? identity : codec.encode, codec);\n};\n/**\n * @since 1.0.0\n */\nvar ReadonlyArrayType = /** @class */ (function (_super) {\n    __extends(ReadonlyArrayType, _super);\n    function ReadonlyArrayType(name, is, validate, encode, type) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.type = type;\n        _this._tag = 'ReadonlyArrayType';\n        return _this;\n    }\n    return ReadonlyArrayType;\n}(Type));\nexport { ReadonlyArrayType };\n/**\n * @since 1.0.0\n */\nexport var readonlyArray = function (codec, name) {\n    if (name === void 0) { name = \"ReadonlyArray<\" + codec.name + \">\"; }\n    var arrayType = array(codec);\n    return new ReadonlyArrayType(name, arrayType.is, function (u, c) {\n        return map(arrayType.validate(u, c), function (x) {\n            if (process.env.NODE_ENV !== 'production') {\n                return Object.freeze(x);\n            }\n            return x;\n        });\n    }, arrayType.encode, codec);\n};\n/**\n * Strips additional properties\n * @since 1.0.0\n */\nexport var strict = function (props, name) {\n    return exact(type(props), name);\n};\n/**\n * @since 1.3.0\n * @deprecated\n */\nvar TaggedUnionType = /** @class */ (function (_super) {\n    __extends(TaggedUnionType, _super);\n    function TaggedUnionType(name, \n    // tslint:disable-next-line: deprecation\n    is, \n    // tslint:disable-next-line: deprecation\n    validate, \n    // tslint:disable-next-line: deprecation\n    encode, codecs, tag) {\n        var _this = _super.call(this, name, is, validate, encode, codecs) /* istanbul ignore next */ // <= workaround for https://github.com/Microsoft/TypeScript/issues/13455\n         || this;\n        _this.tag = tag;\n        return _this;\n    }\n    return TaggedUnionType;\n}(UnionType));\nexport { TaggedUnionType };\n/**\n * Use `union` instead\n *\n * @since 1.3.0\n * @deprecated\n */\nexport var taggedUnion = function (tag, codecs, name\n// tslint:disable-next-line: deprecation\n) {\n    if (name === void 0) { name = getUnionName(codecs); }\n    var U = union(codecs, name);\n    // tslint:disable-next-line: deprecation\n    if (U instanceof TaggedUnionType) {\n        return U;\n    }\n    else {\n        console.warn(\"[io-ts] Cannot build a tagged union for \" + name + \", returning a de-optimized union\");\n        // tslint:disable-next-line: deprecation\n        return new TaggedUnionType(name, U.is, U.validate, U.encode, codecs, tag);\n    }\n};\n/**\n * @since 1.1.0\n */\nvar ExactType = /** @class */ (function (_super) {\n    __extends(ExactType, _super);\n    function ExactType(name, is, validate, encode, type) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.type = type;\n        _this._tag = 'ExactType';\n        return _this;\n    }\n    return ExactType;\n}(Type));\nexport { ExactType };\nvar getProps = function (codec) {\n    switch (codec._tag) {\n        case 'RefinementType':\n        case 'ReadonlyType':\n            return getProps(codec.type);\n        case 'InterfaceType':\n        case 'StrictType':\n        case 'PartialType':\n            return codec.props;\n        case 'IntersectionType':\n            return codec.types.reduce(function (props, type) { return Object.assign(props, getProps(type)); }, {});\n    }\n};\nvar stripKeys = function (o, props) {\n    var keys = Object.getOwnPropertyNames(o);\n    var shouldStrip = false;\n    var r = {};\n    for (var i = 0; i < keys.length; i++) {\n        var key = keys[i];\n        if (!hasOwnProperty.call(props, key)) {\n            shouldStrip = true;\n        }\n        else {\n            r[key] = o[key];\n        }\n    }\n    return shouldStrip ? r : o;\n};\nvar getExactTypeName = function (codec) {\n    if (isInterfaceCodec(codec)) {\n        return \"{| \" + getNameFromProps(codec.props) + \" |}\";\n    }\n    else if (isPartialCodec(codec)) {\n        return getPartialTypeName(\"{| \" + getNameFromProps(codec.props) + \" |}\");\n    }\n    return \"Exact<\" + codec.name + \">\";\n};\n/**\n * Strips additional properties\n * @since 1.1.0\n */\nexport var exact = function (codec, name) {\n    if (name === void 0) { name = getExactTypeName(codec); }\n    var props = getProps(codec);\n    return new ExactType(name, codec.is, function (u, c) { return chain(UnknownRecord.validate(u, c), function () { return map(codec.validate(u, c), function (a) { return stripKeys(a, props); }); }); }, function (a) { return codec.encode(stripKeys(a, props)); }, codec);\n};\nexport { \n/**\n * @since 1.0.0\n */\nnullType as null };\nexport { \n/**\n * @since 1.0.0\n */\nundefinedType as undefined };\nexport { \n/**\n * Use `UnknownArray` instead\n * @deprecated\n * @since 1.0.0\n */\nUnknownArray as Array };\nexport { \n/**\n * @since 1.0.0\n */\ntype as interface };\nexport { \n/**\n * @since 1.0.0\n */\nvoidType as void };\n/**\n * @since 1.0.0\n * @deprecated\n */\nexport var getValidationError /* istanbul ignore next */ = function (value, context) { return ({\n    value: value,\n    context: context\n}); };\n/**\n * @since 1.0.0\n * @deprecated\n */\nexport var getDefaultContext /* istanbul ignore next */ = function (decoder) { return [\n    { key: '', type: decoder }\n]; };\n/**\n * @since 1.0.0\n * @deprecated\n */\nvar NeverType = /** @class */ (function (_super) {\n    __extends(NeverType, _super);\n    function NeverType() {\n        var _this = _super.call(this, 'never', function (_) { return false; }, function (u, c) { return failure(u, c); }, \n        /* istanbul ignore next */\n        function () {\n            throw new Error('cannot encode never');\n        }) || this;\n        _this._tag = 'NeverType';\n        return _this;\n    }\n    return NeverType;\n}(Type));\nexport { NeverType };\n/**\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\nexport var never = new NeverType();\n/**\n * @since 1.0.0\n * @deprecated\n */\nvar AnyType = /** @class */ (function (_super) {\n    __extends(AnyType, _super);\n    function AnyType() {\n        var _this = _super.call(this, 'any', function (_) { return true; }, success, identity) || this;\n        _this._tag = 'AnyType';\n        return _this;\n    }\n    return AnyType;\n}(Type));\nexport { AnyType };\n/**\n * Use `unknown` instead\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\nexport var any = new AnyType();\n/**\n * Use `UnknownRecord` instead\n * @since 1.0.0\n * @deprecated\n */\nexport var Dictionary = UnknownRecord;\n/**\n * @since 1.0.0\n * @deprecated\n */\nvar ObjectType = /** @class */ (function (_super) {\n    __extends(ObjectType, _super);\n    function ObjectType() {\n        var _this = _super.call(this, 'object', UnknownRecord.is, UnknownRecord.validate, identity) || this;\n        _this._tag = 'ObjectType';\n        return _this;\n    }\n    return ObjectType;\n}(Type));\nexport { ObjectType };\n/**\n * Use `UnknownRecord` instead\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\nexport var object = new ObjectType();\n/**\n * Use `brand` instead\n * @since 1.0.0\n * @deprecated\n */\nexport function refinement(codec, predicate, name) {\n    if (name === void 0) { name = \"(\" + codec.name + \" | \" + getFunctionName(predicate) + \")\"; }\n    return new RefinementType(name, function (u) { return codec.is(u) && predicate(u); }, function (i, c) { return chain(codec.validate(i, c), function (a) { return (predicate(a) ? success(a) : failure(a, c)); }); }, codec.encode, codec, predicate);\n}\n/**\n * Use `Int` instead\n * @since 1.0.0\n * @deprecated\n */\n// tslint:disable-next-line: deprecation\nexport var Integer = refinement(number, Number.isInteger, 'Integer');\n/**\n * Use `record` instead\n * @since 1.0.0\n * @deprecated\n */\nexport var dictionary = record;\n/**\n * @since 1.0.0\n * @deprecated\n */\nvar StrictType = /** @class */ (function (_super) {\n    __extends(StrictType, _super);\n    function StrictType(name, \n    // tslint:disable-next-line: deprecation\n    is, \n    // tslint:disable-next-line: deprecation\n    validate, \n    // tslint:disable-next-line: deprecation\n    encode, props) {\n        var _this = _super.call(this, name, is, validate, encode) || this;\n        _this.props = props;\n        _this._tag = 'StrictType';\n        return _this;\n    }\n    return StrictType;\n}(Type));\nexport { StrictType };\n/**\n * Drops the codec \"kind\"\n * @since 1.1.0\n * @deprecated\n */\nexport function clean(codec) {\n    return codec;\n}\nexport function alias(codec) {\n    return function () { return codec; };\n}\nvar isNonEmpty = function (as) { return as.length > 0; };\n/**\n * @internal\n */\nexport var emptyTags = {};\nfunction intersect(a, b) {\n    var r = [];\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var v = a_1[_i];\n        if (b.indexOf(v) !== -1) {\n            r.push(v);\n        }\n    }\n    return r;\n}\nfunction mergeTags(a, b) {\n    if (a === emptyTags) {\n        return b;\n    }\n    if (b === emptyTags) {\n        return a;\n    }\n    var r = Object.assign({}, a);\n    for (var k in b) {\n        if (a.hasOwnProperty(k)) {\n            var intersection_1 = intersect(a[k], b[k]);\n            if (isNonEmpty(intersection_1)) {\n                r[k] = intersection_1;\n            }\n            else {\n                r = emptyTags;\n                break;\n            }\n        }\n        else {\n            r[k] = b[k];\n        }\n    }\n    return r;\n}\nfunction intersectTags(a, b) {\n    if (a === emptyTags || b === emptyTags) {\n        return emptyTags;\n    }\n    var r = emptyTags;\n    for (var k in a) {\n        if (b.hasOwnProperty(k)) {\n            var intersection_2 = intersect(a[k], b[k]);\n            if (intersection_2.length === 0) {\n                if (r === emptyTags) {\n                    r = {};\n                }\n                r[k] = a[k].concat(b[k]);\n            }\n        }\n    }\n    return r;\n}\nfunction isLiteralC(codec) {\n    return codec._tag === 'LiteralType';\n}\nfunction isTypeC(codec) {\n    return codec._tag === 'InterfaceType';\n}\n// tslint:disable-next-line: deprecation\nfunction isStrictC(codec) {\n    return codec._tag === 'StrictType';\n}\nfunction isExactC(codec) {\n    return codec._tag === 'ExactType';\n}\n// tslint:disable-next-line: deprecation\nfunction isRefinementC(codec) {\n    return codec._tag === 'RefinementType';\n}\nfunction isIntersectionC(codec) {\n    return codec._tag === 'IntersectionType';\n}\nfunction isUnionC(codec) {\n    return codec._tag === 'UnionType';\n}\nfunction isRecursiveC(codec) {\n    return codec._tag === 'RecursiveType';\n}\nvar lazyCodecs = [];\n/**\n * @internal\n */\nexport function getTags(codec) {\n    if (lazyCodecs.indexOf(codec) !== -1) {\n        return emptyTags;\n    }\n    if (isTypeC(codec) || isStrictC(codec)) {\n        var index = emptyTags;\n        // tslint:disable-next-line: forin\n        for (var k in codec.props) {\n            var prop = codec.props[k];\n            if (isLiteralC(prop)) {\n                if (index === emptyTags) {\n                    index = {};\n                }\n                index[k] = [prop.value];\n            }\n        }\n        return index;\n    }\n    else if (isExactC(codec) || isRefinementC(codec)) {\n        return getTags(codec.type);\n    }\n    else if (isIntersectionC(codec)) {\n        return codec.types.reduce(function (tags, codec) { return mergeTags(tags, getTags(codec)); }, emptyTags);\n    }\n    else if (isUnionC(codec)) {\n        return codec.types.slice(1).reduce(function (tags, codec) { return intersectTags(tags, getTags(codec)); }, getTags(codec.types[0]));\n    }\n    else if (isRecursiveC(codec)) {\n        lazyCodecs.push(codec);\n        var tags = getTags(codec.type);\n        lazyCodecs.pop();\n        return tags;\n    }\n    return emptyTags;\n}\n/**\n * @internal\n */\nexport function getIndex(codecs) {\n    var tags = getTags(codecs[0]);\n    var keys = Object.keys(tags);\n    var len = codecs.length;\n    var _loop_1 = function (k) {\n        var all = tags[k].slice();\n        var index = [tags[k]];\n        for (var i = 1; i < len; i++) {\n            var codec = codecs[i];\n            var ctags = getTags(codec);\n            var values = ctags[k];\n            // tslint:disable-next-line: strict-type-predicates\n            if (values === undefined) {\n                return \"continue-keys\";\n            }\n            else {\n                if (values.some(function (v) { return all.indexOf(v) !== -1; })) {\n                    return \"continue-keys\";\n                }\n                else {\n                    all.push.apply(all, values);\n                    index.push(values);\n                }\n            }\n        }\n        return { value: [k, index] };\n    };\n    keys: for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var k = keys_1[_i];\n        var state_1 = _loop_1(k);\n        if (typeof state_1 === \"object\")\n            return state_1.value;\n        switch (state_1) {\n            case \"continue-keys\": continue keys;\n        }\n    }\n    return undefined;\n}\n"]},"metadata":{},"sourceType":"module"}