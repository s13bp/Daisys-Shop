{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ConnectModal = void 0;\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar react_modal_1 = __importDefault(require(\"react-modal\"));\n\nvar ProviderSelect_1 = require(\"../components/ProviderSelect\");\n\nvar constants_1 = require(\"../constants\");\n\nvar screens_1 = require(\"../screens\");\n\nvar use_contractkit_1 = require(\"../use-contractkit\");\n\nvar styles_1 = require(\"./styles\");\n\nvar ConnectModal = function (_a) {\n  var reactModalProps = _a.reactModalProps,\n      _b = _a.RenderProvider,\n      RenderProvider = _b === void 0 ? ProviderSelect_1.ProviderSelect : _b,\n      _c = _a.screens,\n      screens = _c === void 0 ? screens_1.defaultScreens : _c;\n  var connectionCallback = (0, use_contractkit_1.useContractKitInternal)().connectionCallback;\n\n  var _d = __read((0, react_1.useState)(null), 2),\n      adding = _d[0],\n      setAdding = _d[1];\n\n  var _e = __read((0, react_1.useState)(false), 2),\n      showMore = _e[0],\n      setShowMore = _e[1];\n\n  var close = (0, react_1.useCallback)(function () {\n    setAdding(null);\n    setShowMore(false);\n    connectionCallback === null || connectionCallback === void 0 ? void 0 : connectionCallback(false);\n  }, [connectionCallback]);\n  var onSubmit = (0, react_1.useCallback)(function (connector) {\n    setAdding(null);\n    connectionCallback === null || connectionCallback === void 0 ? void 0 : connectionCallback(connector);\n  }, [connectionCallback]);\n  var onClickShowMore = (0, react_1.useCallback)(function () {\n    setShowMore(true);\n  }, []);\n  var providers = (0, react_1.useMemo)(function () {\n    return Object.entries(constants_1.PROVIDERS).filter(function (_a) {\n      var _b = __read(_a, 2),\n          provider = _b[1];\n\n      return typeof window !== 'undefined' && provider.showInList() && Object.keys(screens).find(function (screen) {\n        return screen === provider.name;\n      });\n    });\n  }, [screens]);\n  var prioritizedProviders = (0, react_1.useMemo)(function () {\n    return providers.filter(function (_a) {\n      var _b = __read(_a, 2),\n          provider = _b[1];\n\n      return provider.listPriority() === 0;\n    });\n  }, [providers]);\n  var modalContent;\n\n  if (!adding) {\n    var providersToDisplay = showMore ? providers : prioritizedProviders;\n    modalContent = react_1.default.createElement(\"div\", {\n      className: \"tw-flex tw-flex-col tw-items-stretch\"\n    }, react_1.default.createElement(\"h1\", {\n      className: \"tw-pl-3 tw-pb-2 tw-text-lg tw-font-medium dark:tw-text-gray-300\"\n    }, \"Connect a wallet\"), providersToDisplay.map(function (_a) {\n      var _b = __read(_a, 2),\n          providerKey = _b[0],\n          provider = _b[1];\n\n      return react_1.default.createElement(RenderProvider, {\n        key: providerKey,\n        provider: provider,\n        onClick: function () {\n          return setAdding(providerKey);\n        }\n      });\n    }), !showMore && react_1.default.createElement(\"button\", {\n      onClick: onClickShowMore,\n      className: \"tw-font-medium tw-text-md tw-w-32 tw-self-center tw-mt-4 tw-text-blue-800 dark:tw-text-blue-400 hover:tw-text-blue-600 focus:tw-outline-none\"\n    }, \"Show More\"));\n  } else {\n    var ProviderElement = screens === null || screens === void 0 ? void 0 : screens[adding];\n\n    if (!ProviderElement) {\n      return null;\n    }\n\n    modalContent = react_1.default.createElement(ProviderElement, {\n      onSubmit: onSubmit\n    });\n  }\n\n  return react_1.default.createElement(react_modal_1.default, __assign({\n    isOpen: !!connectionCallback,\n    onRequestClose: close,\n    style: styles_1.defaultModalStyles,\n    overlayClassName: \"tw-fixed tw-bg-gray-100 dark:tw-bg-gray-700 tw-bg-opacity-75 tw-inset-0\"\n  }, reactModalProps, {\n    ariaHideApp: false\n  }), react_1.default.createElement(\"div\", {\n    className: \"use-ck tw-bg-white dark:tw-bg-gray-800 tw-p-2\"\n  }, react_1.default.createElement(\"div\", {\n    className: \"tw-relative use-ck-connect-container\"\n  }, react_1.default.createElement(\"button\", {\n    onClick: close,\n    className: \"tw-absolute tw-top-3 tw-right-2 tw-text-gray-700 dark:tw-text-gray-400 hover:tw-text-gray-800 dark:hover:tw-text-gray-300 hover:tw-bg-gray-100 dark:hover:tw-bg-gray-700 tw-p-1 tw-rounded\"\n  }, react_1.default.createElement(\"svg\", {\n    className: \"tw-h-5 tw-w-5\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, react_1.default.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M6 18L18 6M6 6l12 12\"\n  })), ' '), react_1.default.createElement(\"div\", {\n    className: \"tw-px-4 tw-py-4\"\n  }, modalContent))));\n};\n\nexports.ConnectModal = ConnectModal;","map":{"version":3,"mappings":"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","names":["ConnectModal","_a","reactModalProps","_b","RenderProvider","ProviderSelect_1","_c","screens","screens_1","connectionCallback","adding","setAdding","showMore","setShowMore","close","onSubmit","connector","onClickShowMore","providers","entries","constants_1","filter","provider","window","showInList","Object","keys","find","screen","name","prioritizedProviders","listPriority","modalContent","providersToDisplay","react_1","className","map","providerKey","key","onClick","ProviderElement","react_modal_1","__assign","isOpen","onRequestClose","style","styles_1","overlayClassName","ariaHideApp","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","exports"],"sourceRoot":"","sources":["../../src/modals/connect.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}