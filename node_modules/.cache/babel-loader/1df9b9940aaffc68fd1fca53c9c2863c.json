{"ast":null,"code":"import { parseQueryString } from \"./url\";\nexport function isWalletConnectSession(object) {\n  return typeof object.bridge !== \"undefined\";\n}\nexport function parseWalletConnectUri(str) {\n  var pathStart = str.indexOf(\":\");\n  var pathEnd = str.indexOf(\"?\") !== -1 ? str.indexOf(\"?\") : undefined;\n  var protocol = str.substring(0, pathStart);\n  var path = str.substring(pathStart + 1, pathEnd);\n\n  function parseRequiredParams(path) {\n    var separator = \"@\";\n    var values = path.split(separator);\n    var requiredParams = {\n      handshakeTopic: values[0],\n      version: parseInt(values[1], 10)\n    };\n    return requiredParams;\n  }\n\n  var requiredParams = parseRequiredParams(path);\n  var queryString = typeof pathEnd !== \"undefined\" ? str.substr(pathEnd) : \"\";\n\n  function parseQueryParams(queryString) {\n    var result = parseQueryString(queryString);\n    var parameters = {\n      key: result.key || \"\",\n      bridge: result.bridge || \"\"\n    };\n    return parameters;\n  }\n\n  var queryParams = parseQueryParams(queryString);\n  var result = Object.assign(Object.assign({\n    protocol: protocol\n  }, requiredParams), queryParams);\n  return result;\n}","map":{"version":3,"mappings":"AAMA,SAASA,gBAAT,QAAiC,OAAjC;AAEA,OAAM,SAAUC,sBAAV,CAAiCC,MAAjC,EAA4C;AAChD,SAAO,OAAOA,MAAM,CAACC,MAAd,KAAyB,WAAhC;AACD;AAED,OAAM,SAAUC,qBAAV,CAAgCC,GAAhC,EAA2C;AAC/C,MAAMC,SAAS,GAAWD,GAAG,CAACE,OAAJ,CAAY,GAAZ,CAA1B;AAEA,MAAMC,OAAO,GAAuBH,GAAG,CAACE,OAAJ,CAAY,GAAZ,MAAqB,CAAC,CAAtB,GAA0BF,GAAG,CAACE,OAAJ,CAAY,GAAZ,CAA1B,GAA6CE,SAAjF;AAEA,MAAMC,QAAQ,GAAWL,GAAG,CAACM,SAAJ,CAAc,CAAd,EAAiBL,SAAjB,CAAzB;AAEA,MAAMM,IAAI,GAAWP,GAAG,CAACM,SAAJ,CAAcL,SAAS,GAAG,CAA1B,EAA6BE,OAA7B,CAArB;;AAEA,WAASK,mBAAT,CAA6BD,IAA7B,EAAyC;AACvC,QAAME,SAAS,GAAG,GAAlB;AAEA,QAAMC,MAAM,GAAGH,IAAI,CAACI,KAAL,CAAWF,SAAX,CAAf;AAEA,QAAMG,cAAc,GAAG;AACrBC,oBAAc,EAAEH,MAAM,CAAC,CAAD,CADD;AAErBI,aAAO,EAAEC,QAAQ,CAACL,MAAM,CAAC,CAAD,CAAP,EAAY,EAAZ;AAFI,KAAvB;AAKA,WAAOE,cAAP;AACD;;AAED,MAAMA,cAAc,GAA0BJ,mBAAmB,CAACD,IAAD,CAAjE;AAEA,MAAMS,WAAW,GAAW,OAAOb,OAAP,KAAmB,WAAnB,GAAiCH,GAAG,CAACiB,MAAJ,CAAWd,OAAX,CAAjC,GAAuD,EAAnF;;AAEA,WAASe,gBAAT,CAA0BF,WAA1B,EAA6C;AAC3C,QAAMG,MAAM,GAAGxB,gBAAgB,CAACqB,WAAD,CAA/B;AAEA,QAAMI,UAAU,GAAuB;AACrCC,SAAG,EAAEF,MAAM,CAACE,GAAP,IAAc,EADkB;AAErCvB,YAAM,EAAEqB,MAAM,CAACrB,MAAP,IAAiB;AAFY,KAAvC;AAKA,WAAOsB,UAAP;AACD;;AAED,MAAME,WAAW,GAAuBJ,gBAAgB,CAACF,WAAD,CAAxD;AAEA,MAAMG,MAAM;AACVd,YAAQ,EAARA;AADU,KAEPO,cAFO,GAGPU,WAHO,CAAZ;AAMA,SAAOH,MAAP;AACD","names":["parseQueryString","isWalletConnectSession","object","bridge","parseWalletConnectUri","str","pathStart","indexOf","pathEnd","undefined","protocol","substring","path","parseRequiredParams","separator","values","split","requiredParams","handshakeTopic","version","parseInt","queryString","substr","parseQueryParams","result","parameters","key","queryParams"],"sourceRoot":"","sources":["../../src/session.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}