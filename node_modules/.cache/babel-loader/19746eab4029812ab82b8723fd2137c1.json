{"ast":null,"code":"import { setLocal } from \"./local\";\nexport var mobileLinkChoiceKey = \"WALLETCONNECT_DEEPLINK_CHOICE\";\nexport function formatIOSMobile(uri, entry) {\n  var encodedUri = encodeURIComponent(uri);\n  return entry.universalLink ? \"\".concat(entry.universalLink, \"/wc?uri=\").concat(encodedUri) : entry.deepLink ? \"\".concat(entry.deepLink).concat(entry.deepLink.endsWith(\":\") ? \"//\" : \"/\", \"wc?uri=\").concat(encodedUri) : \"\";\n}\nexport function saveMobileLinkInfo(data) {\n  var focusUri = data.href.split(\"?\")[0];\n  setLocal(mobileLinkChoiceKey, Object.assign(Object.assign({}, data), {\n    href: focusUri\n  }));\n}\nexport function getMobileRegistryEntry(registry, name) {\n  return registry.filter(function (entry) {\n    return entry.name.toLowerCase().includes(name.toLowerCase());\n  })[0];\n}\nexport function getMobileLinkRegistry(registry, whitelist) {\n  var links = registry;\n\n  if (whitelist) {\n    links = whitelist.map(function (name) {\n      return getMobileRegistryEntry(registry, name);\n    }).filter(Boolean);\n  }\n\n  return links;\n}","map":{"version":3,"mappings":"AAEA,SAASA,QAAT,QAAyB,SAAzB;AAEA,OAAO,IAAMC,mBAAmB,GAAG,+BAA5B;AAEP,OAAM,SAAUC,eAAV,CAA0BC,GAA1B,EAAuCC,KAAvC,EAAkE;AACtE,MAAMC,UAAU,GAAWC,kBAAkB,CAACH,GAAD,CAA7C;AACA,SAAOC,KAAK,CAACG,aAAN,aACAH,KAAK,CAACG,aADN,qBAC8BF,UAD9B,IAEHD,KAAK,CAACI,QAAN,aACGJ,KAAK,CAACI,QADT,SACoBJ,KAAK,CAACI,QAAN,CAAeC,QAAf,CAAwB,GAAxB,IAA+B,IAA/B,GAAsC,GAD1D,oBACuEJ,UADvE,IAEA,EAJJ;AAKD;AAED,OAAM,SAAUK,kBAAV,CAA6BC,IAA7B,EAAkD;AACtD,MAAMC,QAAQ,GAAGD,IAAI,CAACE,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CAAjB;AACAd,UAAQ,CAACC,mBAAD,EAAoBc,gCAAOJ,IAAP,GAAW;AAAEE,QAAI,EAAED;AAAR,GAAX,CAApB,CAAR;AACD;AAED,OAAM,SAAUI,sBAAV,CACJC,QADI,EAEJC,IAFI,EAEQ;AAEZ,SAAOD,QAAQ,CAACE,MAAT,CAAgB,UAACf,KAAD;AAAA,WACrBA,KAAK,CAACc,IAAN,CAAWE,WAAX,GAAyBC,QAAzB,CAAkCH,IAAI,CAACE,WAAL,EAAlC,CADqB;AAAA,GAAhB,EAEL,CAFK,CAAP;AAGD;AAED,OAAM,SAAUE,qBAAV,CAAgCL,QAAhC,EAA2DM,SAA3D,EAA+E;AACnF,MAAIC,KAAK,GAAGP,QAAZ;;AACA,MAAIM,SAAJ,EAAe;AACbC,SAAK,GAAGD,SAAS,CAACE,GAAV,CAAc,UAACP,IAAD;AAAA,aAAkBF,sBAAsB,CAACC,QAAD,EAAWC,IAAX,CAAxC;AAAA,KAAd,EAAwEC,MAAxE,CAA+EO,OAA/E,CAAR;AACD;;AACD,SAAOF,KAAP;AACD","names":["setLocal","mobileLinkChoiceKey","formatIOSMobile","uri","entry","encodedUri","encodeURIComponent","universalLink","deepLink","endsWith","saveMobileLinkInfo","data","focusUri","href","split","Object","getMobileRegistryEntry","registry","name","filter","toLowerCase","includes","getMobileLinkRegistry","whitelist","links","map","Boolean"],"sourceRoot":"","sources":["../../src/mobile.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}